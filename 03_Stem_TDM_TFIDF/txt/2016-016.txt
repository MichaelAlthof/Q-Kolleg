BERLIN

SFB 6 4 9 E C O N O M I C R I S K

SFB 649 Discussion Paper 2016-016
Irrational Exuberance and Herding in Financial Markets
Christopher Boortz*
* Freie Universität Berlin, Germany And
Deutsches Institut für Wirtschaftsforschung, Germany This research was supported by the Deutsche
Forschungsgemeinschaft through the SFB 649 "Economic Risk". http://sfb649.wiwi.hu-berlin.de ISSN 1860-5664
SFB 649, Humboldt-Universität zu Berlin Spandauer Straße 1, D-10178 Berlin

Irrational Exuberance and Herding in Financial Markets
Christopher Boortz,a,b
aFreie Universita¨t Berlin bDeutsches Institut fu¨r Wirtschaftsforschung
March 20, 2016
Abstract In the context of a two-state, two-trader financial market herd model introduced by Avery and Zemsky (1998) we investigate how informational ambiguity in conjunction with waves of optimism and pessimism affect investor behavior, social learning and price dynamics. Without ambiguity, neither herding nor contrarianism is possible. If there is ambiguity and agents have invariant ambiguity preferences, only contrarianism is possible. If on the other hand ambiguity is high and traders become overly exuberant (or desperate) as the asset price surges (or plummets), we establish that investor herding may drive prices away from fundamentals with economically relevant probability.
Keywords: Social Learning, Herding, Contrarianism, (Partial) Informational Cascade, Ambiguity, Choquet Expected Utility, NEO-Additive Capacities JEL classification: D81, D82, G12, G14
Financial support from the Deutsche Forschungsgemeinschaft (DFG) through CRC 649 "Economic Risk" is gratefully acknowledged. I am grateful for comments by Dieter Nautz, Georg Weitzsa¨cker and Matthias Lang. E-mail: christopher.boortz@fu-berlin.de
1

1 Introduction
Throughout the past decade financial markets exhibited strong degrees of volatility and were characterized by the formation and subsequent burst of bubbles. The prevalent view in the economic literature is that herding among investors is an important driver for such undesirable market phenomena.
The intuition behind this claim is appealing: Investors face a decision whether or not to buy (or sell) a risky asset. As they observe other investors accumulating on one side of the market, they choose to ignore their own noisy information regarding the asset's true value and follow the crowd instead. If the crowd is wrong, such herding on the crowd's action drives prices away from fundamentals contributing towards the formation of bubbles (or excessive downturns). This argument, however, breaks down for most of the existing financial market herd models, see e.g. the seminal works of Avery and Zemsky (1998) and Park and Sabourian (2011). Their models assume that upon the arrival of new information, investors update their beliefs according to Bayes' Rule and that investor choices are based on subjective expected utility theory, i.e. that ambiguity over probabilities does not matter for financial decision makers. Together, these assumptions essentially prevent the existence of wrong crowds and, thus, wrong herds, compare Eyster and Rabin (2010) and Brunnermeier (2001).1
In this paper, we want to study how individual investment decisions and the resulting crowd behavior are affected if financial choices are made under ambiguity (Knightian uncertainty). We are particularly interested if ambiguity contributes towards potentially price-distorting herding (contrarianism) and may, thus, support the intuition that investor coordination and bubbles are linked.2
We apply the concept of ambiguity to the two-state, two-trader version of the rational market microstructure herd model of Avery and Zemsky (1998). We assume that investors facing
1Bayesian updating and preferences in accord with subjective expected utility theory are in line with Barberis and Thaler (2003)'s notion of investor rationality. They argue that the assumption of rationality precludes financial market models from explaining "basic facts about the aggregate stock market, the crosssection of average returns and individual trading behavior" (Barberis and Thaler (2003), p.3).
2A departure from belief updating according to Bayes' Rule as proposed by e.g. Eyster and Rabin (2010) would also explain the existence of wrong herds. Yet, as Daniel et al. (1998) explicate, any such behavioral bias of investor behavior requires an in-depth experimental and empirical foundation, lest it will be subject to criticism that it is arbitrary. Evidence supports biases such as overconfidence, see Weizsa¨cker (2010) and Daniel et al. (1998), or probability weightings and loss aversion in line with prospect theory, see Tversky and Kahneman (1992). Applied to herd models these biases cast additional doubt on the rationale that herding may be the cause for market inefficiencies, compare Huber et al. (2015).
1

ambiguity make decisions in line with non-extreme-outcome-additive (neo-additive) Choquet preferences which were first introduced by Chateauneuf et al. (2007).
The principal model in this paper is related to the one proposed by Ford et al. (2013).3 Yet, we modify and extend their framework in many important ways. First and most importantly, in our framework investor preferences are part of the common knowledge structure of the model. Second, in line with Brunnermeier (2001) and the bulk of the theoretical herding literature, we define herding (contrarianism) as a switch in an agent's opinion toward (against) that of the crowd that has to be induced by the crowd.4 Third, we consider a more general setup as we depart from the General Bayesian Updating (GBU) rule for Choquet preferences proposed by Eichberger et al. (2010). More precisely, we assume that the individual degree of optimism, i.e. investor's ambiguity preference, may vary with the asset price.5 Finally, we study a whole class of perturbed versions of our model where the market exhibits marginal uncertainty regarding the true investor preferences. Indeed, Ford et al. (2013)'s assumption that the market is fully ignorant of the true investor preferences can be seen as an extreme special case of the perturbed model setup.
The key insights developed in this paper can be grouped in two categories. First, we characterize conditions under which herding and contrarianism are possible. Second, we discuss how such investor behavior affects market outcomes.
With respect to the first category, we find that informed traders with neo-additive Choquet preferences never herd but show strong contrarianistic tendencies, when beliefs are updated according to the GBU rule.6 As we depart from GBU, we specify necessary and sufficient conditions for investor herding. We find that herding becomes possible if high degrees
3Another paper that modifies the model of Avery and Zemsky (1998) to reflect investment choices under ambiguity is the one of Dong et al. (2010). They use smooth ambiguity functions as introduced by Klibanoff et al. (2005) to model ambiguity stemming from multiple priors regarding the distribution of the risky asset. They find that herding is possible if the degree of ambiguity aversion differs between market maker and informed traders. This is in line with D´ecamps and Lovo (2006), who obtain a similar result for different risk preferences among traders and market maker.
4Indeed, Ford et al. (2013) do not require that herding and contrarian behavior are crowd-induced. 5To motivate this assumption, we appeal to a growing finance literature that assumes that risk aversion is subject to change, see for instance Campbell and Cochrane (1999) or Bekaert et al. (2009). Indeed, standard approaches to measure risk aversion via volatility premia, abundantly show that risk aversion depends on market sentiment and recent price trajectories, see e.g. Jurado et al. (2015), Bekaert et al. (2013) and Bollerslev et al. (2011). We posit that if risk aversion is assumed to move with prices, so should ambiguity aversion. 6The impossibility of herding derived here contradicts the findings of Ford et al. (2013). This is due to their different definition of herd behavior.
2

of perceived ambiguity coincide with (potentially irrational) exuberance and despair among informed traders.
Second, in terms of market outcomes, we find that in our two-state, two-trader setup informational cascades occur as soon as investors herd or act as contrarians. Since prices stop moving during an informational cascade we find that both, herding and contrarianism prevent the market from learning the asset's true value. In addition, they have an equal potential to drive prices away from fundamentals. A comprehensive comparative static analysis of the probability of such price distortions is provided.
Informational cascades due to herding and contrarianism, however, exhibit an important qualitative difference, which is revealed by the analysis of the pertubed version of our model. In the perturbed model we still assume that all informed traders have neo-additive Choquet preferences. Yet, market participants think that informed traders have Choquet preferences only with probability 1 - and that they are expected utility maximizers with probability . In this case, social learning continues even as investors engage in herd or contrarian behavior.
We find that ambiguity in conjunction with strong exuberance or desperation may cause investors to confidently herd on the wrong state of the world with economically relevant probability in the perturbed model. Markets prone to contrarianism show similar outcomes as in the non-perturbed model, i.e. no learning about the asset's true value and limited long-term price distortions.
The literature of decision making under ambiguity can be grouped in two main approaches that are closely related. First, the multiple prior approach explicitly models a range of probability distributions of the states of the world an individual considers possible (her set of priors) and from which she chooses according to some specified decision rule such as maxmin, compare Gilboa and Schmeidler (1989). Second, the Choquet Expected Utiliy (CEU) approach models decision making under ambiguity through non-additive probability measures or so-called capacities, compare Schmeidler (1989). If no objective probabilities are available as e.g. in Ellsberg (1961)'s famous mind experiment, CEU agents assign individual likelihoods to different outcomes.
For our application, we choose neo-additive capacities over multiple prior setups as well as general Choquet preferences for three reasons. First, our analysis requires a parametric separation of the degree of perceived ambiguity and the individual attitude towards ambiguity. This makes neo-additive capacities the superior choice when compared to general
3

capacities, compare Eichberger et al. (2005), Eichberger et al. (2007) and Chateauneuf et al. (2007). Second, focusing on neo-additive capacities is particularly appealing in the Avery and Zemsky (1998) framework, since it rids us of investor beliefs that are unintuitive. For instance, neo-additive beliefs prevent investors from assigning higher likelihoods to the state that is objectively less likely. Finally, in line with Chateauneuf et al. (2007), neo-additive capacities allow us to relate individual degrees of optimism and pessimism to other components of the Avery and Zemsky (1998) model such as the bid and ask price. We can, thus, intuitively describe if and when irrational exuberance (despair) may lead to herding that moves prices away from fundamentals.7
We should mention, however, that the theoretical finance literature investigating investor behavior under ambiguity outside social learning settings gravitates towards the multiple prior framework.
Examples of static investment and portfolio choices include the works of Bossaerts et al. (2010), Gollier (2011) and Schro¨der (2011). They use multiple prior setups such as smooth ambiguity functions as introduced by Klibanoff et al. (2005) (KMM approach) or -maxmin decision rules to model ambiguity and ambiguity preference.8 Intertemporal financial choices under ambiguity are discussed in e.g. Klibanoff et al. (2009). They generalize the KMM framework to an intertemporal setting, deriving a recursive representation for ambiguity preferences. Ju and Miao (2012) employ the generalized KKM framework to model intertemporal asset pricing and investment choices under ambiguity.
There is, however a very strong unifying assumption underlying the KMM, -maxmin and neo-additive Choquet frameworks. That is, the decision makers' ambiguity attitude is not necessarily limited to aversion but may also reflect lovingness for ambiguous gambles.9 Indeed, robustness checks reveal that the results in this paper can be replicated when employing a multiple prior setup with smooth ambiguity preferences or -maxmin decision rules.
7To the best of our knowledge, the concepts of optimism and pessimism have not yet been associated with the mentioned multiple prior frameworks.
8The -maxmin framework is introduced by Ghirardato et al. (2004) and can be seen as the multiple prior counterpart of neo-additive Choquet preferences.
9Recent applications of the multiple prior framework include variational and multiplier preferences and are particularly designed to apply ambiguity aversion to intertemporal optimization problems, compare Ghirardato et al. (2004) and Hansen and Sargent (2001) respectively. Since they exclude ambiguity lovingness by definition, they are not suited for our application.
4

Ambiguity in our framework can be seen as an agent's lack of confidence in the validity of her information (informational ambiguity). Hence, it is natural to choose a market model, where herding (and contrarianism) is triggered by information externalities that an investment decision by one agent imposes on subsequent agents' expectations about the asset value, compare the seminal work of Bikhchandani et al. (1992).10
We choose the two-state, two-trader version of Avery and Zemsky (1998) as the baseline model over more recent and complex market microstructure herd models such as Park and Sabourian (2011) or Cipriani and Guarino (2014) since we want to avoid unnecessary distractions due to complex model features.11 Indeed, in the baseline model without ambiguity neither herding nor contrarianism are possible, compare Avery and Zemsky (1998). This constitutes a sharp and, hence, illustrative contrast to investor behavior under ambiguity. Having said that, we will also argue that the insights from this paper are conveniently transferred to more complex setups.
The remainder of this paper is organized as follows: In Section 2, we revisit the model of Avery and Zemsky (1998) and discuss investor behavior if there is no ambiguity. In Section 3, we apply ambiguity to the model of Avery and Zemsky. We derive the necessary and sufficient conditions for herding and contrarianism under ambiguity and discuss corresponding market outcomes in Section 4. In Section 5, we introduce the perturbed model and highlight differences of price-dynamics under herding and contrarianism. Section 6 is devoted to the discussion of the robustness of our findings, while Section 7 concludes. Technical proofs as well as additional material and deep dive analyses are found in the Appendix.
10Alternative drivers for herd behavior include reputational concerns as well as investigative herding. Reputational herd models modify the agents' objective functions such that their decisions are affected by positive externalities from a good reputation, see e.g. Scharfstein and Stein (1990), Graham (1999) and Dasgupta et al. (2011). Investigative herd models examine conditions under which investors may choose to base their decisions on the same information resulting in correlated trading behavior, see e.g. Froot et al. (1992) and Hirshleifer et al. (1994).
11Other financial market herd models such as Lee (1998), Chari and Kehoe (2004), and Cipriani and Guarino (2008), investigate how investor herding is related to transaction costs, endogenous timing of trading decisions, and informational spillovers between different assets, respectively.
5

2 The Baseline Herd Model Without Ambiguity
This section reviews the two-state, two-trader version of the model of Avery and Zemsky (1998) and presents it's key property: Without ambiguity no herding and no contrarianism are possible.
2.1 The model setup
Avery and Zemsky (1998) consider a sequential trading model in the spirit of Glosten and Milgrom (1985), consisting of a single asset, informed as well as noise traders and a market maker. The model assumes rational expectations and common knowledge of it's structure. Moreover, all decisions in the model are decisions under risk, i.e. there is no ambiguity. We refer to the model specified in this section as the baseline model.
The Asset: There is a single risky asset with unknown fundamental value V  {V0, V1}, where V0 < V1. We refer to V1 as the high state and V0 as the low state. Without loss of generality, let V0 = 0 and V1 = 1. The prior is fully characterized by the prior probability for the high state 0 := P (V = V1) and assumed to be non-degenerate, i.e. 0 < 0 < 1. The asset is traded over T consecutive points in time. After T , the true state of the world is revealed and traders receive their payment accordingly.
The Market Maker: Trading takes place in interaction with a market maker who quotes a bid and an ask price at every time t = 1, ..., T . The market maker only has access to public information, consisting of the history of trades Ht and the risky asset's prior distribution 0. The trade history is defined as Ht := {(a1, p1), ..., (at-1, pt-1)}, where ai  {buy, sell, hold} is the action of a trader in period i  1 and pi is the price at which that action is executed.
The relevant public information is fully reflected by the public belief regarding the asset's true value, which is given by E[V | Ht] = P (V = 1|Ht) =: t.12 In line with Avery and Zemsky (1998), we also refer to t as the asset's price in period t. The market maker is subject to Bertrand competition and, thus, quotes bid and ask prices according to a zero-profit condition. Formally, we have askt = E[V |Ht  {at = buy}] and bidt = E[V |Ht  {at = sell}].
12t uniquely identifies the history of trades up to the number of holds. In particular, it can be bijectively mapped to any order imbalance in the trade history. We will, hence, also refer to t as the market's sentiment or degree of optimism. This argument is discussed formally in Section 8.E the Appendix of this paper, see Proposition 8.12.
6

The Traders: Traders arrive at the market one at a time in a random exogenous order and decide to buy, sell, or not to trade one unit of the asset at the quoted bid and ask prices. Traders are either risk neutral informed traders or noise traders. The fraction of informed traders is denoted by µ. Informed traders base their decision to buy, sell, or not to trade on their expectations regarding the asset's true value. In addition to publicly available information, informed traders form their beliefs based on a private signal S  {S0, S1}. We refer to S0 as the low signal and S1 as the high signal.13 Informed traders buy (sell) one unit of the asset if their expected value of the asset E[V | S, Ht] = P (V = 1|S, Ht) is strictly greater (smaller) than the ask (bid) price quoted by the market maker.14 Otherwise, they choose not to trade. In contrast to informed traders, noise traders choose their action randomly, that is, they decide to buy, sell, or not to trade with equal probability of 1/3. Consequently, the probability that a noise trader arrives at the market and either buys, sells or holds the asset is equal to (1 - µ)/3. For notational convenience, we define (1 - µ)/3 =: .
The Private Signal: The distribution of the private signals S0, S1 is conditional only on the true state of the world and is denoted by P (S|V ). In particular, it does not depend on the trading history Ht. Without loss of generality, we assume symmetric binary signals (SBS) with precision 1 > q > 0.5, i.e. P (Si|Vi) = q for i = 1, 2. Assuming q > 0.5 ensures, that signals are informative in the sense, that they point an informed trader towards the true state of the world. If the low state realizes, then it is more likely to receive a low signal than receiving a high signal (and vice versa if the high state realizes). The larger q, the less noisy and more informative the signal gets.
Updating: Belief updating follows Bayes' rule. Public beliefs are updated from t to t+1 when a trading decision at is observed in t + 1. Similarly, the public belief t is updated to a private belief E[V |S, Ht] if a trader arriving at the market at time t has received a private information signal S.15
The updating rules imply that for any fixed model parameterization the market maker's
13Throughout this paper, by an abuse of notation, we also label the informed trader who receives signal S, by S.
14We can think of traders being endowed with one unit of money. In that sense, selling the asset really means to short-sell it. The investors' endowment is risk and ambiguity free.
15For the readers convenience, we have stated the formulas for the informed traders' and the market's beliefs as well as bid and ask prices with respect to model parameters in Lemma 8.11 in Section 8.E in the Appendix of this paper.
7

bid and ask quotes as well as the informed traders' asset valuations in t only depend on the price t. We can, thus, view askt and bidt as well as E[V |S, Ht] as functions of t. As a notational convention we write E[V |·, Ht] = E[V | ·, t] = Et[V | ·] and askt = ask(t) and bidt = bid(t). We will sometimes omit the time index for convenience.

Herding and Contrarianism: In line with Avery and Zemsky (1998), we define herding (contrarianism) as a "history-induced switch of opinion of a certain informed trader in (against) the direction of the crowd", compare Brunnermeier (2001). For instance, if an informed trader S sells the asset initially based on her asset valuation E[V | S] but decides to buy the asset at t  1 after she has observed a price increase (decrease), she is said to engage in buy herding (contrarianism).16

Informational Cascade: Following Avery and Zemsky (1998) we say that an informational cascade occurs at time t if and only if P (at|V, Ht) = P (at|Ht), at. This characterizes a situation where the public cannot or does not infer any information from the observation of a trade, i.e. if P (V |Ht+1) = P (V |Ht). To see this, note that during an informational cascade Bayes' Rule implies

P (V

|Ht+1)

=

P (V

|Ht, at)

=

P (at|V, Ht)P (V P (at|Ht)

|Ht)

=

P (V

|Ht),

where the last equality holds due to the informational cascade definition. Sometimes an informational cascade is also defined as a situation when all informed
traders take the same action irrespective of their information signal, compare e.g. Cipriani and Guarino (2008).17 We note, that as long as the whole model structure is common knowledge, this alternative definition is equivalent to the one we use here. We will, however, also consider a perturbed version of our model, where the market is uncertain regarding the true investor preferences. In this case it is conceivable that all traders take the same action, yet, the market still infers information from observed trades. Hence, the more general definition of Avery and Zemsky (1998) prevents us from wrongly identifying a situation as an informa-

16The definition for sell herding and contrarianism is symmetric if S buys initially. For formal definitions, see Avery and Zemsky (1998) or Park and Sabourian (2011).
17The intuition behind this is appealing. If all informed traders take the same action independent of their signal, the market cannot infer any information from their actions any more. Consequently, social learning and price updating stop.

8

Figure 1: Trading decisions of informed traders in Avery and Zemsky (1998).
Notes: Informed trader expectations E[V | S, t], bid price bidt and ask price askt are depicted with respect to the public prior belief at time t, t. The informed trader share µ = 0.3 and the signal precision q = 0.6.
tional cascade, while social learning still continues.18
Having revisited the two-state, two-trader version of the Avery and Zemsky (1998) model, we now state the key result regarding investor behavior.
2.2 Investor Behavior in the Baseline Model
Informed traders in the Avery and Zemsky (1998) model never change their initial trade decision. Low signals always sell the asset while high signals always buy the asset. This fact is summarized in the following Proposition 2.1. Avery And Zemsky Informed traders in the two-state, two-trader model of Avery and Zemsky always follow their private signals, i.e. t and histories Ht:
0 < E[V | S0, Ht] < bidt < t < askt < E[V | S1, Ht] < 1.
18A formal discussion of the different definitions of informational cascades is provided in Proposition 8.15 in the Appendix.
9

Proof: Avery and Zemsky (1998). An immediate consequence is that neither herding nor contrarianism is possible. Both types of investor behavior require that traders change their initial trade decision, which never happens due to Proposition 2.1. This is illustrated in Figure 1. For any price t  (0; 1) (and thus any conceivable history Ht) the expectation of the high signal remains above the ask price while the expectation of the low signal remains below the bid price. Analyses in Avery and Zemsky (1998) and Chamley (2004) show that the market confidently learns about the true value of V in this case. The higher the signal precision q and the informed trader share µ, the faster the market learns. These clearcut results are an important reason for choosing the two-state, two-trader version of Avery and Zemsky (1998) as our baseline model. It allows us to highlight that introducing informational ambiguity to the model in the next section, indeed, has game changing effects on investor behavior and social learning.
10

3 Introducing Ambiguity to the Baseline Herd Model
In this section we apply the concept of ambiguity to the model framework of Avery and Zemsky (1998). We show how the assumption that informed traders have non-extremeoutcome-additive (neo-additive) Choquet Preferences affects their asset valuation based on the insights provided by Chateauneuf et al. (2007).19 We particularly focus our discussion on the role of the perceived ambiguity  as well as the informed traders' attitude towards ambiguity . In line with Eichberger et al. (2010), we provide updating rules for the neoadditive Choquet Expected Utility (CEU) beliefs. Finally, formal definitions for herding and contrarianism for investors with CEU preferences are provided. For the remainder of this paper, we refer to this model as the CEU model.
3.1 Investors with NEO-Additive Preferences
As we introduce ambiguity to the model of Avery and Zemsky, we make three general assumptions. First, in order to isolate the effects of ambiguity on investor decisions and social learning, we assume that informed traders as well as the market maker remain risk neutral. Second, the market maker does not perceive ambiguity. We may think of the market maker as an invisible hand that enforces a normatively acceptable price mechanism. Bid and ask prices as well as the public belief t should, therefore, be inherently unambiguous. Third, we consider investor preferences to be part of the common knowledge structure of the model.20
To incorporate ambiguity, we assume that informed traders have neo-additive CEU preferences. An individual with this type of preference assigns additive probabilities to every event that does not include the best and the worst outcome. For extreme outcomes neo-additive agents assign a weighted average of additive probabilities and non-additive likelihoods. Since in the two-state world of Avery and Zemsky every outcome is extreme, the resulting neoadditive CEU valuation is particularly simple to derive. In line with Chateauneuf et al. (2007), we infer that an informed trader with neo-additive CEU preferences and signal S
19A similar exercise has been conducted by Ford et al. (2013). A toolbox of the mathematical objects and results related to the neo-additive ambiguity concept is provided Section 8.G in the Appendix.
20This is a key distinguishing feature from the model of Ford et al. (2013). In Section 5 we relax the common knowledge assumption to study differences of stylized price dynamics in markets prone to herding and markets prone to contrarianism.
11

values the asset at

CEU [V | S, Ht] = (1 - S)E[V | S, Ht] + S,

(1)

where , S  [0; 1].21 CEU [V | S, Ht] is essentially a weighted average of the subjective expected utility (SEU)
valuation E[V | S, Ht] and a subjectively assigned likelihood  that V = 1 is the true state of nature. In line with Chateauneuf et al. (2007), we regard  as the individual degree of optimism. Indeed, the higher , the more likely the investor considers the high state to be true, the more optimistic, excited or exuberant she gets regarding the investment prospect and it's pay-off (and vice versa).22 The weighting parameter S is the degree of perceived ambiguity and can be viewed as the investor's lack of confidence in her ability to form a SEU belief.The higher S the more the investor relies on her gut feeling  as to whether the low or the high state is true.23
Throughout this paper we assume that the asset valuations of the different informed trader types are monotone in the sense that CEU [V | S0, Ht]  CEU [V | S1, Ht]. From an economical perspective this can be seen as the ambiguity version of a weak form of the Monotone Likelihood Ratio Property (MLRP) of private signals. Indeed, Park and Sabourian (2011) show that MLRP signal structures imply that the order of the informed traders' asset valuations is the same for all histories Ht. Our monotonicity assumption constitutes a corresponding property under ambiguity. Park and Sabourian (2011) label MLRP and associated trade behavior as "well-behaved". We presume that this "well-behavedness" is preserved under ambiguity.24
For the remainder of this paper, whenever we speak of CEU , we actually mean CEU with respect to neo-additive capacities unless explicitly stated otherwise.

21The same result has been obtained by Ford et al. (2013). In Section 8.G in the Appendix we provide a
more detailed and formal derivation of Equation (1). 22From a decision theoretic perspective,  is primarily a preference parameter describing the investor's
attitude towards ambiguity. In line with Ghirardato and Marinacci (2002), the investor is absolutely ambiguity loving (averse) if and only if  > E[V | S, Ht] ( < E[V | S, Ht]. She is absolutely ambiguity neutral if and only if  = E[V | S, Ht]. Technical details on this are provided in Proposition 8.19 in Section 8.G of the Appendix of this paper.
23For an intuitive example of an investor facing ambiguity, see Section 8.A in the Appendix. 24We stress that the results of this paper do not hinge on this assumption. Yet, stating the results and
discussing them is facilitated.

12

3.2 Updating CEU Beliefs
3.2.1 General Bayesian Updating (GBU)
The GBU rule of Eichberger et al. (2010) implies that upon the arrival of new information, i.e. the observation of a trade, the additive part of neo-additive beliefs in Equation (1), E[V | S, Ht], is updated according to Bayes' rule as usual. In addition, the degree of ambiguity S is also updated, while the degree of individual optimism  remains fixed.

The updating rule for S is given by

S

=

(1

-

0 0)P (S|Ht)

+

. 0

(2)

We note again that the dynamics of S solely depend on t and that we can, hence, view S as function of t.25
The parameter 0 can be interpreted as a degree of primary ambiguity that investors perceive when deciding to trade the risky asset. It may stem from the complexity of the asset or from the fact that erratic asset price movements elude established forecasting methods. For instance, derivatives like options, swaps or Collateralized Debt Obligations (CDOs) might trigger a higher primary ambiguity than actual stocks, because they are more difficult to understand and their future values are more difficult to predict accurately. By the same line of reasoning the degree of primary ambiguity should depend on the expertise of the investor. A retail trader perceives much higher degrees of primary ambiguity than a professional investment banker. We assume that 0 > 0 is constant across informed traders and during the trading period under consideration [0; T ].

Figure 2 illustrates that there are two additional sources of ambiguity that contribute towards the degree of total perceived ambiguity S. It depicts S with respect to the price t for informed traders receiving a low signal S0 as induced by GBU.
In addition to the fixed level of 0, total perceived ambiguity also includes ambiguity stemming from the fact that the private information signal S0 may contradict the public information reflected in the price t and the noisiness of the private signal. For instance, a high price t indicates strong market confidence that the high state is the true state. The
25To see this, note that P (S|Ht) = tP (S|V1) + (1 - t)P (S|V0) by the law of total probability and that P (S|Vi) are time-invariant parameters.
13

Figure 2: Sources of ambiguity for a low signal
Notes: The graph shows the degree of ambiguity S0 with respect to prior t for S0. The primary ambiguity level is 0 = 0.4, the informed trader share is µ = 0.3, the signal precision is q = 0.7. S0 is computed according to Equation (2).
low signal S0, however, suggests that the low state is more likely to be true than the high state, thus contradicting the public information reflected in t. Indeed, the greater t the more the low signal contradicts the public information and the higher the low signal's total degree of perceived ambiguity S0. Yet, even if public and private information are aligned, i.e. if t  0, the noise in S0 prevents the informed trader from fully discounting the possibility that the high state is true. As a consequence, the S0 remains strictly above the degree of primary ambiguity 0 for all prices t.26
Eichberger et al. (2010) argue that  is an individual ambiguity preference parameter which should not be affected by the arrival of new information. Yet, since we want to study whether potentially irrational exuberance and outright panics drive investor herding, allowing  to vary might prove insightful. Moreover, the following section shows that the economic literature has readily documented that the conceptually related risk preference in fact is subject to change.
26If a trader receives a perfect signal (no noise) there is no informational ambiguity on top of primary ambiguity. In that case, we have P (S|Ht)  1 which implies that S  0 for all t.
14

3.2.2 Departing from GBU - Varying Degrees of Optimism
It is fairly common in the finance literature to assume that the degree of risk aversion depends on the market sentiment, see e.g. Campbell and Cochrane (1999). This is supported by a large body of empirical evidence showing that during crisis periods risk aversion increases, while it tends to vanish during boom phases, see e.g. Jurado et al. (2015), Bekaert et al. (2013) and Bollerslev et al. (2011). Given the conceptual similarities of risk and ambiguity aversion, we argue that the individual degree of optimism  (ambiguity aversion) should also depend on the general market sentiment.
In our model framework market sentiment is best captured by the price t. The higher t the stronger the degree of optimism exhibited by the market as a whole that V is a lucrative investment opportunity. Since it is reasonable to assume that market-wide optimism affects individual optimism, allowing  to vary with t is a feasible generalization of GBU.
Formally, we set  = S(t | q, 0, ·), i.e. it varies with the price but may also depend on the signal precision, the information signal S or exogenous events. A low signal S0, for example, may dampen optimism or boost panic. Likewise, strong and accurate information signals, i.e. a high q, might prevent investors from overreacting to changes in market sentiment, while low q could make the CEU trader particularly susceptible for such mood swings. Finally, we observe that the informed trader share µ plays no explicit role when informed traders form additive beliefs in the baseline model without ambiguity.27 Consequently, we would argue that µ should not directly affect CEU beliefs neither. To ensure this,  must be independent of µ.

We make three additional assumptions regarding (t | ·) for convenience. These assumptions are not crucial for the results derived in this paper, yet, they allow us to state them in a lean and intuitive way.28

(A1) For 0 both informed trader types act as if they were ambiguity neutral, i.e. S(0) = E[V | S].
(A1) implies that S0 and S1 type informed traders have different ambiguity functions.

27For example,

note

that E[V

| S0, Ht] =

.(1-q)t
(1-q)t +q(1-t )

28Section 6 highlights the effects of generalizing (A3) to obtain a framework where investor preferences

follow a random distribution. Section 8.B in the Appendix discusses technical effects of dropping (A1) to (A3)

on the stated Lemmas and Theorems.

15

While such an assumption may seem ad hoc, we stress that it is made without loss of generality and only to focus our discussion on the case where the low (high) signal sells (buys) initially. (A1) prevents us from being distracted from less interesting scenarios. For example, it precludes the possibility that the two informed trader types take the same action in t = 0, which would cause an informational cascade right at the beginning of trading. Moreover, conditions for herding and contrarianism derived under (A1), i.e. conditions under which traders switch their initial trade decision from selling to buying and vice versa, also hold for weaker forms of switching behavior, i.e. from holding into buying and selling.

(A2) (·) is sufficiently regular in t and the change in  is marginal as the market be-

comes

confident

about

either

state,

i.e.

 

(1)

=

 

(0)

=

0.

(A3) The individual degree of optimism is identical for all low signal traders and all high signal traders respectively.

The updating of S as well as the additive belief component of CEU remains as under GBU. Since S and S as well as the additive component E[V | S, Ht] can be viewed as functions of t, we may also consider CEU as a function of the price. In line with Section 2, we write CEU [V | S, Ht] = CEUS() for notational convenience.
Now that we have formalized how traders with neo-additive preferences facing ambiguity value the risky asset, we can provide appropriately adjusted definitions for herd and contrarian behavior.
3.3 Herding and Contrarianism in the CEU Model
We modify Avery and Zemsky (1998)'s definition of herding and contrarianism to account for the fact that investor perceive ambiguity and have neo-additive preferences.
Definition 3.1. Herding With NEO-Additive preferences An informed trader with neo-additive CEU preferences and signal S buy herds in t^ at history Ht^ if the following three conditions hold:
(*BH1) CEU [V | S] < bid0, i.e. an informed trader with signal S and neo-additive CEU preferences sells at t = 0,

16

(*BH2) CEU [V | S, Ht^] > askt^, i.e. an informed trader with signal S and neo-additive CEU preferences buys in t = t^.
(*BH3) t^ > 0, i.e. the asset price has increased during [0; t^]. Analogously, an informed trader sell herds in period t^ at history Ht^ if and only if (*SH1) CEU [V | S]  bid0, (*SH2) CEU [V | S, Ht^] < bidt^, and (*SH3) t^ < 0 hold simultaneously.
These modifications ensure that in line with Brunnermeier (2001) and the bulk of the theoretical herding literature, an informed trader's switch in opinion is still induced by the observed trade history. More precisely, herding would by definition be impossible if the trade decisions of other investors were not observable, compare opaque market in Park and Sabourian (2011).29
The corresponding definition for contrarian behavior is
Definition 3.2. Contrarianism With NEO-Additive preferences An informed trader with with neo-additive preferences and signal S acts as a buy contrarian in t^ at history Ht^ if the following three conditions hold: (*BC1) CEU [V | S] < bid0, i.e. an informed trader with signal S and neo-additive CEU
preferences sells in t = 0.
(*BC2) CEU [V | S, Ht^] > askt^, i.e. an informed trader with signal S and neo-additive CEU preferences buys in t = t^.
(*BC3) t^ < 0, i.e. the asset price has decreased during [0; t^]. Analogously, an informed trader acts as a sell contrarian in period t^ at history Ht^ if and only if (*SC1) CEUS0,[V ] > ask0, (*SC2) CEUS0,[V |Ht^] < bidt^, and (*SC3) t^ > 0 hold simultaneously.
With these definitions at hand, we are now prepared to investigate investor behavior in the model of Avery and Zemsky under ambiguity.
29This is not the case in Ford et al. (2013). They consider any buy (sell) decision of a low (high) CEU signal to be a corresponding herding trade as long as the price has increased (decreased).
17

4 Investor Behavior and Social Learning under Ambiguity
In this section we present the main results. We will first solve the CEU model by providing equilibrium prices and updating rules. We then investigate investor behavior in the CEU model under GBU and varying , respectively. As we derive necessary and sufficient conditions for herding and contrarianism, we note that both types of investor behavior will inevitably lead to informational cascades. As we study the characteristics of the corresponding market outcomes, we find that herders and contrarians are equally likely to cause prices to move away from fundamentals. This probability is derived analytically and comparative statics are conducted.
4.1 Solving the CEU Model
We conjecture that unlike in the baseline model without ambiguity in Section 2, informed traders with neo-additive CEU preferences may change their initial trade decision after having observed certain histories of trades. If S0 and S1 take the same action at any time t, an informational cascade occurs. Social learning stops and the market maker quotes ask and bid prices equal to t.30 Even if there is no informational cascade, any decision change of an informed trader affects the market maker's price setting as well as the public belief updating. We shall begin by formalizing the market maker's price setting.
Lemma 4.1. Equilibrium Prices in the CEU Model Under the assumptions of the CEU model, let bidt and askt be the bid and ask prices that are quoted in the Avery and Zemsky model at any time t. If there is no informational cascade in t, then the market maker quotes
bidCt EU = min{max{bidt; CEU [V | S0, Ht]}; t}
and asktCEU = max{min{askt; CEU [V | S1, Ht]}; t}.
If there is an informational cascade in t, then the market maker quotes bidtCK = asktCK = t Proof: We have already established pricing given that S0 and S1 take the same action at t, i.e. if there is an informational cascade. As long as S0 sells and S1 buys, prices are as in the
30Compare Avery and Zemsky (1998) and Cipriani and Guarino (2008) for detailed discussions of informational cascades as well as Proposition 8.15 in Section 8.F in the Appendix of this paper.
18

Avery and Zemsky model. Indeed, since CEU [V | S0, Ht] < bidt < t in this case, we have that bidCt EU = bidt. The same argument applies for asktCEU = askt. Moreover, monotonicity of the CEU-beliefs implies, that S1 never sells if S0 does not sell, and that S0 never buys if S1 does not buy. This leaves only two additional cases to consider. First, the case where S0 holds and S1 buys and second, the case where S1 holds and S0 sells. For symmetry reasons, we will only prove the first case.

Let askt and bidt denote the ask and bid prices the market maker quotes in the Avery

and Zemsky model. Assume that at some time t, the high signal still buys and we have

bidt  CEU [V | S0, Ht]  t < askt. This implies that the low signal with CEU preferences holds in t.

Since the market maker (and his fictive Bertrand competition) are aware of this, the zero-

profit condition implies an increase of the quoted bid price to bidCt EU = CEU [V | S0, Ht]. If

the market maker set bidtCEU < CEU [V | S0, Ht], then he would make an average gain on

every sell of t - bidCt EU . The market maker's competition's best response is to quote a bid

price

CEU
bidt

> bidCt EU

such

that

CEU
bidt

< CEU [V

| S0, Ht]

and

CEU
t - bidt

> 0.

In

other

words, the competition can quote a better bid price, thereby drawing away all noise traders

that sell the asset, while still making profits. In turn, the optimal response of the market

maker then is to increase bidCt EU correspondingly. This price war continues until bidCt EU =

CEU
bidt

= CEU [V

| S0, Ht].

If the market maker quoted bidCt EU

> CEU [V

| S0, Ht], then

the low signal would sell at t. Consequently, the market maker would make an average loss of

bidt - bidtCEU for each sell he fills and would, therefore, eventually go out of business. Since the competition is in the same situation, no market maker has an incentive to deviate from

the equilibrium bid price of CEU [V | S0, Ht]. If t < CEU [V | S0, Ht]t  askt, then the market maker quotes an equilibrium bid price of bidtCEU = t. A downward deviation is not possible due to Bertrand competition by the same reasoning as above. An upward deviation would cause the market maker to make av-

erage losses of at least t - bidCt EU for each sell he fills and, therefore, would again lead to bankruptcy.

There are two important implications of Lemma 4.1. First, as soon as an informed trader switches into holding, the market maker can make
19

profits. As long S1 holds and CEUS1() remains above the market price  (S0 holds and CEUS0() remains below ), the market maker on average profits from every buy (sell) he fills. This is in line with the intuition that if traders depart from rationality in the sense of Barberis and Thaler (2003), there will be opportunities for other market participants to make money additional money. In all other cases the zero-profit condition holds.
Second, note that the quoted ask (bid) price in the CEU model remains the same as in the Avery and Zemsky model as long as the high signal S1 buys and the low signal S0 does not buy (the low signal S0 sells and the high signal S1 does not sell). This is crucial for the derivation of the result on the possibility of herding and contrarianism and it ensures that the corresponding results transfer to the perturbed model setup of Section 5.

Next, we derive the updating rules for the public belief t in the CEU model.
Lemma 4.2. Public Belief Updating in the CEU Model Under the assumptions of the CEU model, let bidt and askt be the bid and ask prices that are quoted in the Avery and Zemsky model at any time t.

(1) If the high signal buys and the low signal sells at time t, then t+1 is as in the Avery and Zemsky model.

(2) If both signals take the same action in t, then there is an informational cascade and t+1 = t.
(3) If the high signal buys and the low signal holds at time t, then


askt,  
t+1 = t,
  bidt,

if at = {buy} if at = {sell} if at = {hold}.

(3)

(4) If the high signal holds and the low signal sells at time t, then


t,  
t+1 = bidt,
  askt,

if at = {buy} if at = {sell} if at = {hold}.

(4)

20

Proof: Case (2) is directly implied by the definition of an informational cascade. To see, that cases (1), (3) and (4) hold, note, that informed traders still reveal their fundamentally driven signal through their action. Since in case (1), informed traders decide as in the Avery and Zemsky model price updating also coincides. In case (3) - where S1 buys and S0 holds - a sell would contain no informational value, because it is a noise trade for sure. Consequently, the price remains constant. If a buy is observed, the market maker knows, that it is conducted by either the high signal or a noise trader. Consequently, updating after a buy is exactly the same as in the Avery and Zemsky model. Finally, if a hold is observed, the market maker knows, that it is due to the low signal or a noise trader. This is equivalent to the situation of an observed sell in the Avery and Zemsky model. Consequently, the market maker sets t+1 = bidt, when observing a hold. The argument is symmetric for case (4), i.e. if S1 holds and S0 sells.
Lemma 4.2 implies that the probability to observe a price increase (decrease), i.e. t+1 > t (t+1 < t) remains constant as long as there is no informational cascade.31 This is crucial for deriving a closed formula for the probability of price-distorting market outcomes below.
Having solved the model dynamics, we turn to the analysis of investor behavior in the CEU model. We will first focus on the case where informed traders update their CEU belief in accordance with the GBU rule. We will then consider the general case, where  may vary with the price t.
4.2 Investor Behavior in the CEU Model under GBU
This section shows that if informed traders perceive ambiguity and update their neo-additive CEU preferences according to the GBU rule, i.e. they exhibit invariant ambiguity preference , then there is no herding in the CEU model. At the same time, informed traders show strong contrarian tendencies that prevent the market from becoming confident about either state.
Theorem 4.3.
31In particular, note that the probability of a price increase (decrease) is the same as in the baseline model, where it coincides with the probability of buy (sell), see Lemma 8.11 in Section 8.E in the Appendix of this paper for the respective formulas.
21

In the CEU with   [0; 1] fixed, no herding can occur. If, in addition, S0 sells initially and S1 buys initially, then contrarianism occurs with positive probability.
Proof: Since this proof is fairly technical, it is left to the Appendix.
We require, that S0 (S1) sells (buys) initially to avoid situations in which both informed trader types take the same action initially, thereby causing an informational cascade right at the beginning of trading.32 Note, that Theorem 4.3 contradicts some of the key results in Ford et al. (2013). This is because we apply different definitions for herding and contrarianism. Although the mathematical proof is left to the Appendix, we would like to provide some intuition for our result.
The impossibility of herd behavior stems from the fact that neo-additive CEU traders' beliefs are anchored around . As a result, their belief updating process exhibits a strong degree of sluggishness. CEU traders show particular reluctance in following the crowd. Consider for instance a low signal type trader. Since she sells initially by assumption, she can only engage in buy herding. When she observes a price increase, the additive part of the CEU belief, Et[V |S0], increases in line with Bayes' rule as in Avery and Zemsky (1998). Since, however, she perceives ambiguity regarding the validity of her Bayesian asset valuation she tends to rely on her gut feeling to some extent, i.e. her individual degree of optimism. Under GBU,  is, however, unaffected by the price increase. As a consequence, the upward revision of CEU [V | S0, H] turns out be smaller than the corresponding belief revision of her SEU counterpart from the model of Avery and Zemsky. Consequently, since E[V |S0] < bid()  bidCEU () for all , S0 keeps selling a fortiori after having observed a price increase given that she sells to begin with.33 This precludes her from ever engaging in buy herding behavior. The argument is symmetric for the high signal.
The mechanism preventing herding is, at the same time, the key driver for contrarianism. The sluggish belief updating makes neo-additive CEU traders prone to act against the crowd. As the asset price approaches one of the possible true states, i.e. if t  1 (or t  0), both informed trader types will eventually start selling (or buying) the asset, regardless of their initial trading decision. This is due to the fact, that their non-additive belief component
32We can enforce this condition by setting S = E[V | S]. The effects of dropping this assumption are discussed as we prove Theorem 4.3 in the Appendix.
33To see that E[V |S0] < bid()  bidCEU () holds, review Proposition 2.1 and Lemma 4.1.
22

bounds away their asset valuation from 1 and 0, as the public becomes increasingly confident about either state. Assume for instance a price decrease. As t  0, the quoted bid and ask prices also approach zero. At the same time, the non-additive part of the informed traders CEU beliefs SS is bounded away from 0.34 Given their initial trading decisions the low signal can only engage in buy contrarianism while the high signal can only engage in sell contrarianism.
4.3 Investor Behavior in the CEU Model with Varying 
We now investigate investor behavior under the assumption that the individual degree of optimism  varies with the price t.
4.3.1 Irrational Exuberance and Herd Behavior In this section we derive necessary and sufficient conditions for herd behavior in the CEU model with varying . We begin our analysis by deriving a necessary condition.
Neccessary Condition: The essential finding is that the degree of optimism  has to move pro-cyclically, i.e. increase with the market price. In addition, the individual reaction to market-wide optimism (pessimism) needs to be strong enough, i.e. informed CEU traders need to become particularly exuberant (desperate).
Theorem 4.4. Necessary Condition for Herding Consider the CEU model with varying . If buy herding occurs with positive probability, then   (0; 1) : S0() > ask(). If sell herding occurs with positive probability, then   (0; 0) : S1() < bid(). Proof: Due to symmetry reasons, we show only the buy herding statement. (A1) implies that S0 sells initially while S1 buys initially. Hence, only S0 can buy herd (*BH1). If S0 buy herds at some price  > 0 (*BH3), then CEUS0() > ask() (*BH2). Consequently,
(1 - S0)E[V | S0] + S0S0() > ask().
34There are some peculiarities if  = 1 or  = 0. These cases of pure optimism and pessism are discussed in the Appendix.
23

Solving this inequality for S0() after having added and subtracted S0ask() on the r.h.s. of the inequality, yields

S0 () >

S0 ask() + (1 - S0) ask() - (1 - S0)E[V S0

| S0] .

Now noting that ask() > E[V | S0], we infer, that the r.h.s. of the inequality is greater than ask(), which proves the statement.

In line with the market maker's price setting derived in Lemma 4.1, bid and ask in Theorem 4.4 refer to the bid and ask prices that are quoted in the similarly parameterized baseline herd model without ambiguity.
Let us provide some additional intuition regarding the buy herding condition. (A1) implies that only S0 sells initially. In particular, the low signal initially values the asset at E0[V | S0], i.e. she is neither particularly optimistic nor pessimistic. Even as the asset price  appreciates, the additive part of the low signal's asset valuation E[V | S0] remains well below the ask price, compare Section 2. Hence, S0 will only decide to buy at some price t >  if her degree of optimism S0() is large enough to compensate for this fact. Since S0(0) = E[V | S0] < E[V | S0], this means that it is necessary for buy herding, that S0() >> S0(0), i.e. S0's degree of optimism has to increase with the asset price. An incremental rise of S0 would, however, be insufficient.
The minimum requirement for S0 to value the asset above the ask price is S0 > ask > . Noting that S0(0) < 0, this implies that buy herding requires that S0() - S0(0) >>  - 0. Such a disproportionate surge in individual optimism compared to the increase of optimism exhibited by the market, can well be interpreted as (possibly unwarranted) exuberance on the part of the S0 type trader. The intuition is similar for sell herding of S1. We would, however, label the required disproportionate increase in individual pessimism as (potentially exaggerated) desperation of the S1 type traders.
Sufficient Condition: Before stating the formal sufficient condition for herding, let us develop some intuition first. Sufficiency for e.g. buy herding requires that at some point the degree of optimism  surmounts the ask price for good, i.e.  > 0, where  < 1 such
24

that () > ask() for all prices   (; 1). If such an optimism function coincides with high primary ambiguity 0, then this is sufficient for S0 to buy the asset, at least for prices in a neighborhood of 1.
If 0 is large the trader's lack of confidence in her additive belief component is strong. Consequently, her asset valuation is strongly biased towards the non-additive component . If her faith in her gut-feeling is sufficiently strong, () > ask() over-compensates the fact that her additive belief component E[V | S0] < ask() driving her asset valuation CEUS0() above the ask price for  close to 1. If primary ambiguity is too low, then no amount of optimism will ever drive the low signal's valuation of the asset above the ask price.35
This sufficiency condition is in line with the intuition that for example retail traders are more prone to herding than professionals. Indeed, the worse a trader's understanding about financial markets in general and the functioning of a particular financial asset, the higher her degree of perceived primary ambiguity and the more likely, that she will eventually engage in herd behavior.

Theorem 4.5. Sufficient Condition For Herding Consider the CEU model with varying . Let the level of primary ambiguity

0

>

1

-

µ(1 - q) + q(µ + 2)



,

where q denotes the signal precision, µ the informed trader share and  := (1 - µ)/3 is the probability that a noise trader buys, sells or holds one unit of the asset. If S0(1) = 1, then buy herding occurs with positive probability. If S1(0) = 0, then sell herding occurs with positive probability.

Proof: The mathematical proof is again left to the Appendix. The principal idea of the proof has been outlined prior to the statement of Theorem 4.5.

A few remarks regarding Theorem 4.5 are in order. First, the requirement that S0(1) = 1 (S1(0) = 0) has intuitive appeal. In the limiting
35Compare the case of a pure optimist in the Appendix.
25

case, when the market becomes confident about either state of the world beyond any doubt,

i.e. if risk vanishes completely, then even CEU traders who perceive ambiguity should value

the asset at 1 and 0 respectively.

Second, we note that the minimum required amount of primary ambiguity 0 depends

on the informed trader share µ and the signal precision q. Comparative static analyses reveal

that

0

=

1-

µ(1-q)+ q(µ+2)

increases in both µ and q.36

That is, an increase in µ and q tends

to reduce investor proclivity to engage in herd behavior. This appears to be intuitive in the

case of q. Better informed traders should ceteris paribus be less easily swayed by the crowd

to change their trade decisions. In the case of µ the result is driven by the fact that the

market maker faces a higher risk that his counter-party is informed. To compensate for that

risk, he quotes a higher bid-ask spread which makes extreme switches of traders from selling

to buying and vice versa less likely, compare the discussion of the impact of information risk

on herding intensity in Paper ?? of this thesis.

Finally, we note that the way Theorem 4.5 is stated, it hinges on (A2). A general version

of the sufficiency result that does not require (A2) is provided in Section 8.B in the Appendix

of this paper.

The question remains, whether we expect to observe herding implied by Theorems 4.4 and 4.5 in the real world.
Since there is strong evidence that risk aversion moves pro-cyclically, see e.g. Bollerslev et al. (2011), we conjecture that ambiguity aversion or optimism should exhibit similar features given the conceptual proximity of these preference parameters.
Moreover, we would argue that there are abundantly many real-world examples where investor behavior showed corresponding characteristics. Popular precedents are the dot-com bubble at the turn of the millenium, the recent US house price bubble as well as the bubble of the Shanghai Composite Index in 2015.
Finally, the relevance of investor herding under ambiguity can be motivated microeconomically by the findings of Heath and Tversky (1991). They provide experimental evidence that once the judged probability of an ambiguous event is high, individuals tend to become ambiguity loving. If the price t is in a neighborhood of 1, even an S0 type trader is fairly confident that the high state is true. Hence, according to Heath and Tversky (1991),
36The formal derivation of these results is based on elementary calculus and has, thus, been omitted from the paper.

26

S0 should assign a higher probability to the high state than prescribed by her additive belief component.37 This would support the idea of Theorem 4.5 that (potentially irrational)
exuberance and despair may drive investor herding at least for prices close to 1 and 0.

A Class of Optimism Functions Allowing for Investor Herding: We provide a class

of

optimism

functions

(|q,

0)

that

are

sufficient

for

herd

behavior

if

0

>

1

-

µ(1-q)+ q(µ+2)

.

For the low signal, we have



E[V S0 (t) =
E[V

| S0, t] + E[V

|

S0,

t

]

t-1 1

,

| S0, t] + (1 - E[V

|

S0,

t

])

t-1 1-1

,

if t  1 if t > 1,

(5)

where 1  0. If 1 = 0, then in line with (A1) the corresponding CEU asset valuation of the low signal is initially equal to the additive component, i.e. CEUS0(0) = E[V | S0]. The larger 1, the more pessimistic S0 and the longer it takes before the low signal eventually becomes exuberant. S0 needs to observe a much stronger buy side accumulation of traders before she will decide to follow the crowd and buy the asset. Indeed, note that for 1 > 0, we have CEUS0(0) < E[V | S0] which means that S0 initially has a pessimistic view on the investment opportunity. She needs to overcome this a priori skepticism before she becomes inclined to invest in V . As long as 1 < 1, sufficiency for buy herding as implied by Theorem 4.5 holds.

Similarly for the high signal, we have



E[V S1 (t) =
E[V

| S1, t] + E[V

|

S1,

t

]

t-2 2

,

| S1, t] + (1 - E[V

|

S1,

t

])

t-2 1-2

,

if t  2 if t > 2,

(6)

where 2  0. The interpretation of 2 for the high signal is symmetric to the interpretation of 1 for the low signal.
37Note that strong pessimism also reflects ambiguity lovingness in the sense of Heath and Tversky (1991). The mere difference is that a high degree of confidence regarding the low state causes CEU traders to assign a higher probability to the low state, than their additive belief would dictate.

27

4.3.2 Contrarianism With Varying 
The intuition and mechanisms driving contrianism are the same for varying  as under GBU. Thus, we do not provide formal necessary and sufficient conditions. We point out, however, that necessary conditions for contrarianism can be stated in a similar fashion as for herding. One simply has to exchange the intervals from which  is chosen in Theorem 4.4. For sufficiency, consider a CEU trader, whose degree of optimism  essentially stays constant for all   [ ; 1 - ] or even changes in a countercyclical fashion, then by similar arguments as in Section 4.2, the initial valuation of the low (high) signal would rise above (drop below) the ask (bid) price as the price decreases (increases).
Now, that we have derived fairly general conditions for herding and contrarianism in the CEU model, we shall shift our focus on the analysis of market outcomes and social learning.
4.4 Market Outcomes and Social Learning in the CEU Model
This section illustrates that herding and contrarianism in the CEU model have an equal potential to prevent the market from learning about the asset's fundamental value and to move prices away from fundamentals.
Monotonicity of the informed trader expectations, i.e. CEU [V | S0, Ht] < CEU [V | S1, Ht], implies that whenever an informed trader type engages in herding or contrarianism all informed traders take the same action. That is, both types of investor behavior necessarily lead to an informational cascade. If an informational cascade occurs at t, social learning stops and the price fixes at  until the end of trading, i.e.    for all t <   T . Such a price consensus is inherently inefficient since it prevents the market from learning about the asset's true value and consequently from pricing the asset at it's fundamental, compare Chamley (2004).
In that sense, herding as well as contrarianism in the CEU model lead to inefficient market outcomes. This would be of minor concern if prices generally moved towards the asset's fundamental until the informational cascade takes place. That is, if V = 1 (V = 0), we observed  > 0 ( < 0) with high probability. This is, however, not necessarily the case as we illustrate by discussing Figures 3 and 4.
28

Figure 3: Irrational exuberance and buy herding
Notes: Informed trader asset valuations CEUS, bid price bidCEU and ask price askCEU are depicted with respect to the price t. The primary ambiguity is 0 = 0.5, the informed trader share is µ = 0.3, the initial prior is 0 = 0.5 and the signal precision is q = 0.6. ·(t) is given by Equations (5) and (6) with 1 = 2 = 0.5.
Figure 3 depicts a situation, where the low signal S0 (the high signal S1) engages in buy (sell) herding with positive probability. We focus only on the buy herding case. Initially, at 0 = 0.5, the low signal values the asset as if she was an SEU maximizer, i.e. CEUS0(0) = E0[V | S0]. The low signal's optimism function S0 ensures that her asset valuation CEUS0() is highly elastic with respect to the degree of optimism exhibited by the market. Indeed, as S0 observes an increasingly strong price upsurge, she not only contracts the optimistic market sentiment but really becomes overly enthusiastic regarding the prospect of investing into the risky asset V .
As the price  rises above 1, the low signal changes her trading decision from selling to holding. In line with Lemma 4.1, the quoted bid price is equal to S0's valuation of the asset. As CEUS0() becomes greater than t, the market maker quotes a bid price equal to t. If additional buys are observed, the price t eventually rises above 2. At that point, S0's exuberance causes her to start buy herding. An informational cascade occurs, since all informed trader types buy at that point. Social learning stops and the price is fixed at  = 0.75.38
38Note, that the discontinuity of the ask price at  = 0.26 indicates that the symmetrically modeled high signal starts selling. An informational cascade occurs, because at that point all informed traders sell and the
29

Figure 4: Market outcomes under contrarianism
Notes: Informed trader asset valuations CEUS, bid price bidCEU and ask price askCEU are depicted with respect to the price t. The degree of optimism is  = 0.5 for both informed trader types, the primary ambiguity is 0 = 0.3, the initial prior is 0 = 0.5, the informed trader share is µ = 0.3 and the signal precision q = 0.6.
To see that  = 0.75 becomes the price consensus with relevant probability even if the low state is true, i.e. if V = 0, note that S0 engages in buy herding if the trade history contains at least 7 more buys than sells. Even though V = 0, there is ample potential for a buy side accumulation of traders. All high signals and one third of the noise traders buy the asset upon arrival. As long as there is no informational cascade, the buy probability, i.e. the probability of a price increase, is µ(1 - q) +  = 0.353 for the model parameterization of Figure 3. Similarly, the probability to observe a price decrease is µq +  = 0.413. Given the high short-term dispersion of a price-process that is governed by these probabilities, it is apparent that the likelihood of prices moving away from fundamentals due to herding is far from negligible. The situation is symmetric for sell herding if V = 1.
Figure 4 illustrates the case where the low signal (high signal) may become a buy (sell) contrarianist. In line with the GBU rule,  = 0.5 for both informed trader types. Assuming that 0 = 0.5, S0 sells initially and S1 buys initially. Let us focus on the buy contrarianism case. As sells are observed, the asset price  decreases. As  falls below 2, S0 stops selling
price is fixed at 0.25.
30

and starts holding. If additional sells cause the price to drop below 1, S0 switches from holding into buying, thus acting as a buy contrarianist. Since at that point both informed trader types buy the asset, an informational cascade occurs. Social learning stops and the asset price remains constant at 0.3 =  < 1 for all remaining trade periods.
Now, assume that V = 1 is the true state. The probability of a price decrease in t is µ(1 - q) +  = 0.353 as long as there is no informational cascade.39 This is due to the fact that the low signal reveals her private information through her action regardless of whether she sells or holds, compare price updating in Lemma 4.2. If S0 sells (holds), prices decrease after an observed sell (hold).
If the trade history contains at least 4 more sells than buys, S0 engages in buy contrarianism. The market "agrees" with considerably positive probability to depreciate the asset value to 0.3 =  even though V = 1 is the true state.
To make these insights more precise, we derive a formula for the probability of such wrong cascades due to herding as well contrarianism in the following section. We can use this formula to conduct comparative statics on the likelihood that herders and contrarians move prices away from fundamentals.
4.5 Investors Moving Prices away from Fundamentals - Deriving the Probability of a Wrong Cascade
We have illustrated that herding and contrarianism in the CEU model may lead to price distortions. The aim of this section is to quantify the probability of such an event and investigate how this probability is related to other model parameters.
To keep things tractable, let us assume without loss of generality that either herding or contrarianism are possible but not both. In addition, we assume symmetry of S0 and S1 in the sense that the minimum number of price increases (decreases) after which the informed traders start herding or acting as contrarians are the same for the high and low signals.40 We denote this number as n.
Under these assumptions the probability of prices moving away from fundamentals co-
39The probability of price increase is µq +  = 0.413. 40This also includes the GBU case of fixed . The result easily generalizes to the case where the symmetry assumption is dropped. A look at the proof of Lemma 4.6 in the Appendix will reveal why this is true.
31

incides with the probability of a buy herding (sell contrarianism) induced cascade if V = 0 and vice versa a sell herding (buy contrarianism) induced cascade given V = 1. We obtain

Lemma 4.6. Probability Of A Wrong Informational Cascade Consider the CEU model, where either herding or contrarianism is possible. Let n be the minimum number of price increases (decreases) after which the low (high) signal starts herding or acting as a contrarian. Then, the probability of an informational cascade where all informed traders buy herd (act as sell contrarians), given that V = 0, is equal to the probability of an informational cascade where all informed traders sell herd (act as buy contrarians), given that V = 1. This probability is given by

1

Pn = exp

- ln

µ(1-q)+ µq+

n

. +1

(7)

Proof: The proof is fairly technical and, thus, details are left to the Appendix. The idea of the proof is that the probabilities to observe a price increase, decrease or constant prices are the same as long as there is no informational cascade. This makes the problem of calculating Pn equivalent to a two-sided gambler's ruin problem with 2n possible states. We can specifiy the transition probabilities in each state. Then standard techniques of linear algebra yield the desired result.

To get a broader perspective of how the probability of wrong cascades reacts to shifts in model parameters, let us analyze the comparative statics of Pn. Lemma 4.7. Comparative Statics Of Price Distortions In the CEU model, the probability of prices moving away from fundamentals Pn
· Decreases with the informed trader share µ; · Decreases with the signal precision q; · Increases with the degree of primary ambiguity 0; · Increases with the degree of individual optimism  if investors are prone to herding; · Decreases with the degree of individual optimism  if investors are prone to contrari-
anism;
32

Proof: Since the proof is fairly technical, it is left to the Appendix.
The results of Lemma 4.7 are fairly intuitive. Since µ can be seen as the quantity of fundamentally relevant information in the market and q can be viewed as the quality of the same, it is straight forward that an increase of both should reduce the likelihood that prices move away from fundamentals. If there are more and better informed traders, then prices should more accurately reflect the asset's true value.
Likewise an increase in primary ambiguity 0 will make investors more prone to irrational exuberance (desperation) in the case of herding and will make the belief updating of potential contrarian traders even more sluggish. In both cases, higher ambiguity will cause CEU traders to rely more on their gut feeling which may advise them to take wrong actions. Hence the probability of prices moving away from fundamentals increases. The different results for a change in  stem from the fact that we see  as a function in . We define an increase in  as a general increase of individual optimism elasticity with respect to a change in market sentiment .41 Now, consider a CEU trader who is prone to contrarianism. If her individual optimism reacts more elastically to price changes, then her belief updating tends to be less sluggish, thus, reducing her contrarian tendencies. Similarly if the CEU trader is prone to herding, a higher  implies that her willingness to ignore her private signal and follow the crowd increases.
We have investigated the conditions under which herding and contrarianism are possible in the CEU model. Both lead to informational cascades and, thus, prevent the market from confidently learning about the true state and may cause price distortions. In fact, we find that price distortions are equally likely under contrarianism and under herding. Given the antithetical nature of the two types of behavior, however, we would have expected that herding and contrarianism result in different market outcomes. To carve out these differences we shall depart from the assumption that investor preferences are common knowledge and consider a perturbed version of the model. We will discuss the details of this approach and it's insights in the next section.
41Formally, 1 is said to be greater than 2 if and only if 1() < 2()   (0; 0) and 1() > 2()   (0; 1).
33

5 Price Dynamics under Herding and Contrarianism - the Perturbed CEU Model
This section provides insights regarding differences of stylized price dynamics under herding and contrarianism, respectively. In the CEU model, however, herding and contrarianism lead to informational cascades, i.e. constant prices. To circumvent this issue, we assume that market participants exhibit marginal uncertainty regarding investor preferences. The resulting setup is called the perturbed CEU model because it resembles in spirit the concept of a perturbed game.
5.1 The Perturbed CEU Model
All definitions and assumptions from Sections 2 and 3 hold. In particular, all informed traders are CEU maximizers. Yet, now we assume that market participants perceive ambiguity regarding informed traders' preferences. That is, they do not fully discount the possibility that informed traders are ambiguity neutral. More precisely, the market believes that informed traders have neo-additive CEU preferences with probability 1 - and are expected value maximizers as in the baseline model with probability for some arbitrarily small > 0.42
The most important property of the perturbed CEU model is the absence of (full) informational cascades. Figure 5 illustrates this fact by showing that even under herding and contrarianism the market maker quotes a positive bid-ask spread. This implies that the market still infers information from observed trade decisions at even if all informed traders take the same action in t. As a consequence, the price t continues to evolve under herding and contrarianism in the perturbed model.43
The absence of informational cascades stems from the market's belief that a share of of the informed traders are expected value maximizers and, thus, behave as in the baseline model. Consider for instance a situation where both signals buy the asset (e.g. buy herding
42The fact that market participants perceive ambiguity regarding other informed traders' preferences is in line with the game theoretic literature, compare e.g. Eichberger and Kelsey (2014) and Eichberger and Kelsey (2000). In the context of these frameworks an agent's belief regarding the other players' ambiguity preferences may deviate from the truth.
We note that Ford et al. (2013) focus their analysis exclusively on the somewhat extreme case of = 1. 43The corresponding formal results on market maker price setting and price updating are notationally tedious in the perturbed CEU model and, thus, left to Section 8.C in the Appendix of this paper, see Propositions 8.6 and 8.7.
34

35
(a) Herding
(b) Contrarianism
Figure 5: Herding and contrarianism in the perturbed model
Notes: Figure (a) depicts informed trader asset valuations CEUS, bid price bid -CEU and ask price ask -CEU with respect to the price t in a market prone to herding. For illustrative purposes, we set = 0.25. The primary ambiguity is 0 = 0.5, the informed trader share is µ = 0.3, the initial prior is 0 = 0.5 and the signal precision is q = 0.6. ·(t) is given by Equations (5) and (6) with 1 = 2 = 0.5. Figure (b) depicts informed trader asset valuations CEUS, bid price bid -CEU and ask price ask -CEU with respect to the price t prone to contrarianism. For illustrative purposes, we set = 0.25. The primary ambiguity is 0 = 0.3, the informed trader share is µ = 0.3, the initial prior is 0 = 0.5 and the signal precision is q = 0.6.  = 0.5 for both informed trader types in line with GBU.

in Figure 5 (a)). The market believes that a share of of the S0 type traders still acts as in the baseline model without ambiguity and sells the asset, compare Proposition 2.1. Hence, an observed sell is viewed to contain some information as the market does not fully discount the possibility that the trade is carried out by an S0 type informed trader. Consequently, t decreases in line with Bayes' rule after a sell is observed. The argument is similar for a price increase after an observed buy.
Note, however, that the amount of information inferred from a trade under herding and contrarianism may be very small, particularly if is small. Consequently, herding and contrarian regimes can be seen as partial informational cascades in the sense of Avery and Zemsky (1998) and Park and Sabourian (2011).
The second key property of the perturbed model is that it inherits the results regarding the necessary and sufficient conditions for herding and contrarianism derived in the CEU model, see Theorems 4.3, 4.4 and 4.5. To see why this is true, assume that in line with (A1) the low signal sells initially while the high signal buys initially. As long as S1 buys and S0 does not, the market maker quotes the same ask price as in the CEU and baseline model without ambiguity.44 Since S0's asset valuation is also not affected by the perturbation assumption, the conditions for CEUS0 surpass the ask price, i.e. for S0 to buy herd or act as a buy contrarian are the same as in the CEU model.
Indeed, since the model parameterizations in Figures 5 (a) and (b) coincide with the ones used for Figures 3 and 4, respectively (aside from the perturbation parameter ), the cut-off prices for herding and contrarianism (, ) from Figures 5 (a) and (b) are precisely equal to the corresponding cut-off prices depicted in Figures 3 and 4.
Since we have established that herding and contrarianism are possible in the perturbed CEU framework and that learning always continues we can now study how prices evolve under herding and contrarianism.
5.2 Prices under Herding and Contrarianism in the Perturbed CEU Model
Before deriving formal results we want to develop some intuition for the price dynamics by looking at the price process' transition probabilities under the different regimes.
44Compare market maker pricing results for the CEU model (Lemma 4.1) and the perturbed model (Proposition 8.6 in Section 8.C in the Appendix).
36

Buy Herding Sell Contrarianism Sell Herding Buy Contrarianism

Probability of a Price Increase
µ+  
µ+

Probability of a Price Decrease
 µ+ µ+


Probability of a Constant Price
   

Table 1: Transition probabilities for t under herding and contrarianism
Notes: This table reports the transition probabilities of the price process in the perturbed CEU model given that CEU traders herd or act as contrarians respectively. µ is the share of informed traders.  = (1 - µ)/3 is the probability for a noise trader to either buy, sell or hold.

Table 1 reports the probabilities of whether t moves up, down or remains constant given that investors herd or act as contrarians. We note that under all four regimes a price increase (decrease) coincides with an observed buy (sell). As a consequence, the probability for a price increase (decrease) is the same as the probability of a buy (sell). The same argument applies for constant prices and observed holds.45
Consider for instance the case of buy herding. The total probability of observing a buy is the probability of an informed buy plus the probability of a noise buy. Since under buy herding all informed traders buy the asset, the probability of an informed buy is µ. Similarly, since one third of the noise traders buys the asset, the probability of observing a noise buy is  = (1 - µ)/3. Thus, the total probability of observing a buy under buy herding and, hence, a price increase is µ + . Likewise, since the only traders selling under buy herding are noise traders, the probability of observing a sell and, thus, a price decrease is .
By a similar line of reasoning the probability of a price decrease under sell contrarianism is µ + . Since only noise traders buy under sell contrarianism, the probability of a price increase is .
Avery and Zemsky (1998) show that the price in their model eventually converges to 1 if the majority of the informed traders buys while it converges to 0 if the majority of the
45Compare the price updating rules in the perturbed model summarized in Proposition 8.7 in Section 8.C in the Appendix for details.
37

informed traders sells. The same principal should govern the price process in the perturbed CEU model under
herding and contrarianism. We conjecture that buy herds in the perturbed CEU model push prices towards 1 (the majority buys), while sell contrarianists pull it back towards 0 (the majority sells). Similarly, sell herds should push the price towards 0 while buy contrarians pull it back up towards 0.

These hypotheses are confirmed by the following two propositions.

Proposition 5.1. Prices in the Perturbed Model - Herding In the perturbed CEU model, let  < 0 ( > 0) be the cut-off prices, such that S1 sell herds for all  <  (S0 buy herds for all  > ). Then the market will become confident regarding the low (high) state with positive probability,
regardless of the true state of V .

Proof: We discuss the proof for the buy herding case only. The sell herding case is symmet-

ric.

For

the

buy

herding

statement

we

need

to

show

that

P

( lim
t

t

=

1)

>

0.

First

note

that

by the law of total probability, we have

P

( lim
t

t

=

1)

=

P

( lim
t

t

=

1|



0

:



>

)P (



0

:



>

).

(8)

The second probability on the r.h.s. of Equation (8) is greater zero by the assumption

that buy herding is possible. For the first probability on the r.h.s. of Equation (8), we

define tBH := (t|t > ) to be the price process under buy herding. Observe that

tBH is a sub-martingale with respect to the history Ht, i.e. E[tB+H1 |Ht] > tBH .46 Then,

the martingale convergence theorem implies that tBH   for t   almost surely, i.e.

P

( lim
t

tBH

=

)

=

1.

Since, the sub-martingale property implies that tBH  (; 1) increases almost surely for

t   and since tBH < 1 for all t by definition, it follows that  = 1.

This

implies

that

P

( lim
t

t

=

1|



0

:



>

)

>

0

and,

thus,

concludes

the

proof

that

a market prone to buy herding will become confident regarding the high state with positive

probability regardless of the true state of V .

46The proof for this is left to Section 8.C in the Appendix.

38

Proposition 5.2. Prices in the Perturbed Model - Contrarianism In the perturbed CEU model, let  < 0 ( > 0) be the cut-off prices, such that S0 acts as a buy contrarian for all  <  (such that S1 acts as a sell contrarian for all  < ). Then the price will rise above  (drop below ) again almost surely.
Proof: Consider the sell contrarian case. We need to show that P ( > t :   |t > ) = 1. Similar to before, we define tSC := (t|t > ). We observe that tSC is a super-martingale with respect to the history Ht, i.e. E[tS+C1 | Ht] < tSC .47 In other words, prices fall almost surely as long as there is sell contarianism. Moreover, there exists a ~t >  such that ~t+1 <  if there is a sell in t. Both arguments together yield that the price will drop below  almost surely given there is sell contrarianism at some time t. The argument is symmetric for buy contrarianism.
Propositions 5.1 and 5.2 state that the price evolves quite differently under herding and contrarianism in the perturbed CEU model. According to Proposition 5.1, herding causes the market to become confident about one of the states. A buy herd eventually drives the price towards 1 while a sell herd drives the price towards 0. Since this may happen regardless of the true state of V , the perturbed CEU model predicts that the market herds on the wrong state with positive probability.48 In line with Proposition 5.2, contrarianism prevents the market from learning about the true state and anchors the price on some interval  < 0 < . Hence, both types of investor behavior still distort prices but they do so in very dissimilar ways.
The different stylized price movement under herding and contrarianism in the perturbed CEU model are illustrated in Figure 6.
47The proof for this is left to Section 8.C in the Appendix. 48Note that this result partly driven by the assumption that the market operates under the wrong assumption that a share of traders are SEU maximizers. Still, it provides qualitatively valuable insights as it is fair to assume that investor preferences are typically not accurately estimated in the real world. Since, moreover, there is a strong consensus regarding the validity of the efficient market hypothesis, we conjecture that markets tend to underestimate the share of investors deviating from SEU.
39

40
(a) Confident Herding On The Wrong State
(b) Anchored Price Movement und Contrarianism
Figure 6: Prices under herding and contrarianism
Notes: Figure (a) shows a simulated price path under herding for T = 2000 time periods. As before, the primary ambiguity is 0 = 0.5, the informed trader share is µ = 0.3, the initial prior is 0 = 0.5 and the signal precision is q = 0.6. ·(t) is given by Equations (5) and (6) with 1 = 2 = 0.5. The pertubation term is = 0.25. Figure (b) shows a simulated price path under contrarianism for T = 2000 time periods. The primary ambiguity is 0 = 0.3, the informed trader share is µ = 0.3, the initial prioris 0 = 0.5 and the signal precisionis q = 0.6.  = 0.5 for both informed trader types in line with GBU. The pertubation term is
= 0.25.

The herding case is depicted in Figure 6 (a). In line with the previously illustrated model outcome in Figure 5 (a), S0 engages in buy herding as soon as the price surpasses .49 The first buy herd forms right before period 400. We observe, that this buy herd is broken shortly thereafter. This is due to a random arrival of noise traders selling the asset who push the price below . When the second buy herd starts after period 400, however, it persists until period T = 2000. The sub-martingale property now governs the price process resulting in a long term price increase towards 1. Thus, the longer the herd persists, the less likely it is broken. In line with Park and Sabourian (2011) we refer to this as the self-enforcing nature of herding. By period 800, the price is well above 0.9. For it to fall below  = 0.74 again, many consecutive (noise trader) sells would have to be observed. The probability for such an event is already very small. Indeed, since we expect t to increase further on average (sub-martingale property), the probability of the herd being broken vanishes as t  T . Note that the market becomes confident that the asset's true value is 1, while V in fact is 0, i.e. the market confidently herds on the wrong state. Also observe that the price is considerably less volatile when S0 type informed traders buy herd compared to when they do not. This is in line with the characteristics of a partial informational cascade. Since the market is certain that most informed traders have CEU preferences and knows that they engage in buy herding as  > , the informational content the market infers from an observed trade drops significantly under buy herding. Since the price dynamics are mainly determined by the inferable information from an observed trade, prices become less volatile when S0 buy herds, compare Avery and Zemsky (1998) and Park and Sabourian (2011).50 The price evolution under contrarianism is depicted in 6 (b). In line with Figure 5 (b), S0 engages in buy contrarianism (S1 engages in sell contrarianism) as soon as the price surpasses  (falls below ). In line with Proposition 5.2, the price mainly stays on (; ). The contrarian regimes are always very short due to the self-defeating nature of contrarianism, compare Park and Sabourian (2011). As soon as the price exceeds , for instance, sell contrarians pull the price below  again causing the regime to end rather quickly. As a consequence, contrarians prevent the market from becoming confident regarding either state and, hence, from learning. In T = 2000, the asset price is still very far away from the asset's
49Note, that the model parameterizations in Figure 6 are exactly as the corresponding model parameterizations in Figure 5.
50In the case of an informational cascade the information content of a trade is 0 and, thus, the price remains constant, compare the CEU model.
41

fundamental value V = 0.
While for given model parameterization the price evolution is always similar in a market prone to contrarianism, the outcome could have been different under herding. A sell herd could have driven the price towards the asset's fundamental value of 0. As a consequence, we want to study the a priori probability of a wrong herd similar to the CEU model.
5.3 Price-Distorting Herding in the perturbed model
Quantifying the probability of price-distorting herds in the perturbed model is more complicated than in the CEU model. When informed traders change their trade decisions in the perturbed model, the probability and the extend of price increases and decreases varies. Yet, our ability to derive an analytical formula for the probability of wrong cascades in the CEU model in Lemma 4.6 hinges on the fact that price changes and their probabilities are fix as long as there is no cascade and trivial when there is an informational cascade. Hence, we are not able to provide a similarly appealing result for the perturbed model. We can, however, leverage Lemma 4.6 to infer upper and lower boundaries for the probability of wrong herds:
Lemma 5.3. Probability of Wrong Herds in the Perturbed Model Consider the perturbed CEU model, where only herding is possible and assume symmetry between the signals as in Lemma 4.6. Let PW H denote the probability of a wrong herd in the perturbed CEU model. Let n be the minimum number of price increases (decreases) after which the low (high) signal starts herding. Let k < n be the minimum number of observed price increases (decreases) after which the low (high) signal starts holding. Then PW H  [Pn; Pk], where P· is as in Equation (7).
Proof: See Appendix.
In the perturbed model, the probability of wrong buy herds tends to be even larger than in the CEU model. Driver for this result is the market's erring assumption that a share of of the informed traders are SEU maximizers. As long as preferences are common knowledge (CEU model), the price process is a martingale and cannot exhibit long term trends away from the asset's fundamental. In the perturbed model, on the other hand, such a wrong trend is possible.
42

Let V = 0 be the true state and assume for illustrative purposes that = 1, that is, the market assumes that all informed traders are SEU maximizers although they have CEU preferences. Once S0 switches into holding, the market does not accurately adjust the asset price downward anymore. Instead of depreciating the price after an observed hold (CEU model), the market depreciates the price after a sell. Yet, the probability to observe a sell is only  (noise trader sell) since S0 holds. For t to be a martingale, however, the probability of a downward revision would need to be µ + .
Hence, price decreases occur less often than they should. This results in an upward drift in the price process, i.e. a trend away from V = 0 (sub-martingale property). This effect is amplified if S0 engages in buy herding.
These trends have the overall effect to drive prices away from fundamentals with greater probability in the perturbed model than in the CEU model.
We note, that the comparative statics of the lower boundary of PW H are readily provided by Lemma 4.7. For the comparative statics of the upper boundary Pk, we find that the effect of an increase in µ is, indeed. An increase in q has weaker effects on Pk than on Pn.
5.4 The Burst Of A Bubble
Given the initial motivation of this paper, we would like to conclude this section by illustrating how the CEU model can be leveraged to explain the formation and subsequent burst of bubbles. As we have seen in the previous sections, the perturbed CEU model can explain the formation of a bubble. Yet, it cannot endogenously produce the burst of bubble before the asset's true value is revealed after the final period T .
To overcome this issue, we will allow ambiguity in the perturbed CEU model to be exogenously removed at some period  < T . Indeed, it is conceivable that unexpected events like the September 11 attacks on the United States in 2001 or Mario Draghi's "whatever it takes" speech in 2012 may cause jumps in primary ambiguity 0 or remove it altogether. The result is illustrated in Figure 7.
The model parameterization used to simulate the price path in Figure 7 allows for (wrong) herding. The asset's fundamental value is V = 0. Due to noise trading and trading of high signals, we observe an increase in the price in the first 70 periods. Shortly after t = 70, the low signal type traders engage in buy herding for the first time. The buy herd is broken a
43

Figure 7: The formation and burst of a bubble
Notes: The figure shows a simulated price path for T = 2000 periods. The primary ambiguity 0 = 0.5, the informed trader share is µ = 0.3, the initial prior 0 = 0.5 and the signal precision q = 0.6. ·(t) is given by Equations (5) and (6) with 1 = 2 = 0.5. The perturbation parameter = 0.25 for illustrative purposes. Primary ambiguity 0 is set equal to 0 after t = 800 periods. The true state is V = 0.
few times. A persistent buy herd forms only after period 110. Prices increase further towards 1 in line with Proposition 5.1. This continues until period 800, where some exogenous event removes the ambiguity, thereby bringing the herd to a halt.
Once ambiguity is removed, informed traders become expected value maximizers. Hence, S0 type traders sell the asset. Since V = 0 is the true state, there are more S0 type traders in the market than traders with a high signal. In line with the baseline model, we expect a price correction and that t eventually converges towards 0.
Since the informed traders' signal precision q = 0.6 is relatively low, it takes the market some time to learn that V = 0 is the true state. It is not before period 1000 that the market starts learning that the asset is wrongly priced. From period 1000 to 1300 the market corrects it's assessment. We observe a sharp decline in the asset's value accompanied by regimes of increasing volatility. After period 1300 volatility diminishes as the market becomes increasingly confident regarding the low state and the standard learning mechanisms of Avery and Zemsky (1998) take predominant effect.
44

Event Study - The Subprime Mortgage Crisis: Let us apply these theoretical insights to real world events in the years 2002 to 2007. Consider Collateralized Debt Obligations (CDOs), highly complex and non-transparent credit derivatives that enjoyed unprecedented popularity among investors in the years leading up to the recent global financial crisis in 2007 and became essentially worthless once the underlying collaterals (sub-prime mortgages) defaulted in large numbers.
In a noteworthy statement of Warren Buffet in the annual report of Berkshire Hathaway in 2002, he outlaws complex derivatives such as CDOs as time bombs and financial weapons of mass destruction. He claims that these products depend on too many variables and have far too long times-to-maturity to be valued accurately. To make things worse, sub-prime mortgages, i.e. credits with a very high default risk, became a predominant collateral for CDOs between 2002 and 2007.
If we think of Warren Buffet's view as rational in an economic sense and take into account the high risk associated with the CDOs' collaterals, a rational assessment of CDOs should result in a low probability for the event "I earn money with CDOs (in the long run)". At the same time, Mr. Buffet's argument implies that the perceived ambiguity associated with CDOs should be high even among professional traders, i.e. 0 should be large. Indeed, since there was insufficient information regarding the actual default risks of the CDO's collaterals, let alone correlation structures of defaults, there was no way for investors to accurately assess the value of a CDO.
The incessantly high AAA-rating of CDOs by US rating agencies added to investors' perceived ambiguity as it contradicted their objective belief that CDOs with sub-prime mortgages as collaterals are inherently risky. In conjunction with increasing evidence of high returns and the general market sentiment - everybody was buying them - this contributed to a highly optimistic view of investors on the event "I earn money with CDOs (in the long run)". In neo-additive terms, this means that investors not only had a high  but also a tremendously elastic . These are the required ingredients for price distorting herding under ambiguity.
Only after default rates increased across subprime mortgages in the end of 2006 and the beginning of 2007, investors realized that they had erred. To speak in model terms, the ambiguity was removed - it then was clear that many CDOs were essentially worthless. Interestingly, this did not affect the CDO prices at first. Only as time passed and default rates skyrocketed, the market depreciated CDO prices to reflect their true value.
45

6 Robustness Discussion

6.1 Multiple Prior Setup With Smooth Ambiguity Functions

In this section we want address the question, whether our results hold if we choose a different approach to model ambiguity. For this, we translate the CEU model into a multiple prior setup and investigate whether similar results hold under the assumption that informed investors form beliefs according to smooth ambiguity functions as proposed by Klibanoff et al. (2005).
To model informational ambiguity in a multiple prior context, we follow the ideas provided by Gollier (2011) and assume that investors find it plausible that the precision of their signal is either q with probability 1 or it is uniformly distributed across [0; 1]. In addition, we assume that either distribution for q is considered to be equally likely, i.e. occurs with probability d = 0.5. This captures informational ambiguity in the sense that the informed trader has a lack of confidence that her private information signal is fundamentally driven. Thus, the informed trader's second-order belief d is closely related the degree of perceived ambiguity in the neo-additive CEU model. As a suitable family of smooth ambiguity functions, consider



exp(-ax), if a = 0

(x) =

.

x if a = 0

The parameter a would reflect the informed trader's degree of optimism similar to  in the CEU setup. If a > 0, the informed trader is pessimistic, for a < 0, she is optimistic. For a = 0, she is ambiguity neutral. The informed traders' asset valuation is given by

11 VS = - a log d 0 exp (-aEq[V | S, ]) dq
+ (1 - d) exp (-aEq[V | S, ])

(9)

if a = 0. While we can obtain results similar to Theorems 4.3, 4.4 and 4.5 as well as Lemmas 4.6 and 4.7 by the same arguments as in the neo-additive CEU model, we would loose some of the intuition provided in this paper. The parameters d and a cannot be linked as nicely to the parameters in the Avery and Zemsky (1998) framework, as 0 and .
To gain some intuition how a pro-cyclical time varying a in the multiple prior setup can drive (potentially price-distorting) herd behavior, we suggest to set a(p) = -K tan ((p - 0.5))

46

for some K > 0, where in this case p represents the price and  the actual number .
6.2 Risk Preferences
By the same line of reasoning as for the multiple prior setup with smooth ambiguity functions, we argue that the results of this paper can be reproduced in a framework where informed traders have varying risk preferences. If risk-preferences move pro-cyclically (countercyclically) in the same way ambiguity preferences do, we find that herding (contrarianism) becomes possible in the Avery and Zemsky (1998) framework.
To see this for herding, take  and a(p) as before and note that the informed traders asset valuation becomes VS = -1 (E[(V ) | S, ·]). For contrarianism, repeat the exercise with fixed a.51
This is appealing from a theoretical perspective, in the sense that it generalizes the results presented in this paper. Indeed, experimental evidence from Drehmann et al. (2005) and Cipriani and Guarino (2005) suggests that investors in the Avery and Zemsky (1998) baseline model, do engage in contrarian behavior to some extent. This indicates that latent (or even counter-cyclical) risk preferences may play a role in decision-making underrisk in social learning settings. The same experiments, however, generally find no evidence of herd behavior casting strong doubt on the economic relevance of pro-cyclical changes in risk preference for risky investment decisions.
We would argue that this does not impede the validity of the herding results derived in this paper. The choices in Drehmann et al. (2005) and Cipriani and Guarino (2005) are not choices under ambiguity. In line with Heath and Tversky (1991), we conjecture that investors facing ambiguity, exhibit ambiguity lovingness but not risk lovingness as they become confident about either state.
When viewing the ambiguity preference parameter  as a measure for optimism and pessimism it's link to investor herding is also intuitively more appealing than for risk lovingness. While it is conceivable that investors contract optimism exhibited by the market and become overly enthusiastic regarding an investment opportunity, it is difficult to argue, why they would all of a sudden like the risk associated with a particular investment.
51This does not come as a surprise, since D´ecamps and Lovo (2006) show that differences in risk preferences between informed traders and market maker are sufficient for herding in a setup closely related to the Avery and Zemsky (1998) framework.
47

6.3 More States, More Different Types Of Traders
The results derived in this paper carry over to the more complex versions of Avery and Zemsky (1998) or the frameworks presented by Park and Sabourian (2011) and Cipriani and Guarino (2014). The important thing to note is that traders that perceive informational ambiguity may become prone to herding (contrarianism), even if they receive monotone private signals in the sense of Park and Sabourian (2011).52 Hence, herd (contrarian) behavior is not limited anymore to certain signal types like the u-shaped (hill-shaped) trader in Park and Sabourian (2011) or the low precision signal in Cipriani and Guarino (2014). As a consequence, herds or contrarianists in those models may consist of much larger shares of informed traders and, thereby, have the potential to drive prices away from fundamentals even in the long run.
6.4 Heterogeneous Attitudes Towards Ambiguity and Degrees Of Perceived Ambiguity
Instead of assuming a particular  for the informed traders, one could assume that the degree of optimism is distributed randomly across the population of informed traders. As the market grows more or less confident about either state, one could shift the mean and the variance of the distribution. If the mean of that distribution was to shift in a way that it fulfills the sufficient conditions for herding of Theorem 4.5 and it's variance was connected to e.g. the variance of the public belief t, then herding would still be possible. In that case not all informed traders with a particular private signal would change their trading decision simultaneously and there would always be a certain amount of traders that do not change their decision to follow or act against the crowd. If the share of traders engaging in herd or contrarian behavior is large enough, however, price distortions are still possible in principle. Yet, if the distribution of the informed traders is part of the common knowledge structure, the price process will remain a martingale even under herding or contrarianism, compare e.g. Avery and Zemsky (1998). Hence, herds, while potentially persistently price-distorting, will not drive the price towards the wrong state in the long run. A detailed analysis of such a model would be an interesting avenue for future research.
Similarly, we could consider a heterogeneous population of informed traders that perceive different degrees of primary ambiguity. If the distribution of the primary ambiguity levels is part of the common knowledge structure of the model, the same argument applies
52In that sense, every signal in a two-state world is monotone.
48

as before for the likely model outcomes and, thus should be included in future analyses. 49

7 Conclusion
We have provided a comprehensive framework to explain how ambiguity may affect investor behavior and social learning in the two-state, two-trader version of the Avery and Zemsky (1998) model. As we review Avery and Zemsky's model setup without Knightian uncertainty, we observe that it implies that neither herding nor contrarianism are possible. We find that ambiguity and an invariant degree of optimism result in strong contrarian tendencies among informed traders but still preclude herd behavior. When allowing the individual degree of optimism to vary with market prices, herding becomes possible. It is necessary for herding, that the individual degree of optimism increases with market prices, i.e. with the degree of optimism exhibited by the market as a whole. If informed traders become overly exuberant or gloomy regarding an investment prospect they perceive a sufficiently high amount of primary ambiguity, then this is sufficient for herding to occur with positive probability.
We find, that herding and contrarianism alike cause informational cascades, thereby, preventing the market from pricing the asset at it's fundamental value. Indeed, contrarianism as well herding moves prices away from fundamentals with positive probability. Such wrong cascades are qualitatively different for herding and contrarianism. If the market is marginally uncertain regarding investor preferences, informational cascades are only partial. In that case, the self-defeating nature of contrarianism bounds prices away from the asset's potential fundamental values in the long run. The self-enforcing nature of herding, on the other hand, has the potential to drive price towards the wrong state.
Aside from the already mentioned theoretical extensions, the natural next step is to put the theoretical predictions of the CEU model to the test. Conducting experiments in a similar spirit as Drehmann et al. (2005) and Cipriani and Guarino (2005), where we add ambiguous components to the information signals to reflect the assumptions of the CEU model presented in this paper, would be an exciting avenue for future research. Similarly, one could test experimentally whether ambiguity regarding the distribution of the risky asset as proposed by Dong et al. (2010) leads to herding or contrarianism respectively.
From an empirical perspective, it may be interesting to investigate possibilities to measure the degree of primary ambiguity. If we assume for instance, that the absolute number of professional or expert traders for a particular asset is constant, then an increase in the number of traders would hint at an increase of average primary ambiguity. Similarly, one could investigate investor behavior in the aftermath of unexpected events, that are relevant
50

to the valuation of the asset. It would be interesting to analyze whether joint evidence of higher primary ambiguity and investor coordination have predictive power regarding future price reversals, that would be consistent with price-distorting herding.
51

References
Avery, C. and Zemsky, P. (1998). Multidimensional Uncertainty and Herd Behavior in Financial Markets, The American Economic Review 88(4): 724­748.
Barberis, N. and Thaler, R. (2003). A survey of behavioral finance, Financial Markets and Asset Pricing, Vol. 1, Part B of Handbook of the Economics of Finance, pp. 1053 ­ 1128.
Bekaert, G., Engstrom, E. and Xing, Y. (2009). Risk, uncertainty, and asset prices, Journal of Financial Economics 91(1): 59 ­ 82.
Bekaert, G., Hoerova, M. and Duca, M. L. (2013). Risk, uncertainty and monetary policy, Journal of Monetary Economics 60(7): 771 ­ 788.
Bikhchandani, S., Hirshleifer, D. and Welch, I. (1992). A Theory of Fads, Fashion, Custom, and Cultural Change as Informational Cascades, Journal of Political Economy 100(5): 992­ 1026.
Bollerslev, T., Gibson, M. and Zhou, H. (2011). Dynamic estimation of volatility risk premia and investor risk aversion from option-implied and realized volatilities, Journal of Econometrics 160(1): 235 ­ 245.
Bossaerts, P., Ghirardato, P., Guarnaschelli, S. and Zame, W. R. (2010). Ambiguity in asset markets: Theory and experiment, Review of Financial Studies 23: 1325 ­ 1359.
Brunnermeier, M. K. (2001). Asset Pricing Under Asymmetric Information, Oxford University Press.
Campbell, J. Y. and Cochrane, J. H. (1999). Force of habit: A consumption-based explanation of aggregate stock market behavior, Journal of Political Economy 107(2): 205 ­ 251.
Chamley, C. P. (2004). Rational Herds, Cambridge University Press.
Chari, V. and Kehoe, P. J. (2004). Financial crises as herds: overturning the critiques, Journal of Economic Theory 119(1): 128 ­ 150.
Chateauneuf, A., Eichberger, J. and Grant, S. (2007). Choice under uncertainty with the best and worst in mind: Neo-additive capacities, Journal of Economic Theory 137(1): 538 ­ 567.
52

Cipriani, M. and Guarino, A. (2005). Herd Behavior in a Laboratory Financial Market, The American Economic Review 95(5): 1427­1443.
Cipriani, M. and Guarino, A. (2008). Herd Behavior and Contagion in Financial Markets, The B.E. Journal of Theoretical Economics (Contributions) 8(1): 1 ­ 54.
Cipriani, M. and Guarino, A. (2014). Estimating a Structural Model of Herd Behavior in Financial Markets, American Economic Review 104(1): 224 ­ 251.
Daniel, K., Hirshleifer, D. and Subrahmanyam, A. (1998). Investor psychology and security market under- and overreactions, Journal of Finance 53(6): 1839 ­ 1885.
Dasgupta, A., Prat, A. and Verardo, M. (2011). The price impact of institutional herding, Review of Financial Studies 24(3): 892­925.
D´ecamps, J.-P. and Lovo, S. (2006). Informational cascades with endogenous prices: The role of risk aversion, Journal of Mathematical Economics 42(1): 109 ­ 120.
Dong, Z., Gu, Q. and Han, X. (2010). Ambiguity aversion and rational herd behaviour, Applied Financial Economics 20(4): 331­343.
Drehmann, M., Oechssler, J. and Roider, A. (2005). Herding and Contrarian Behavior in Financial Markets: An Internet Experiment, The American Economic Review 95(5): 1403­ 1426.
Eichberger, J., Grant, S. and Kelsey, D. (2005). Ceu preferences and dynamic consistency, Mathematical Social Sciences 49(2): 143 ­ 151.
Eichberger, J., Grant, S. and Kelsey, D. (2007). Updating choquet beliefs, Journal of Mathematical Economics 43(7 - 8): 888 ­ 899.
Eichberger, J., Grant, S. and Kelsey, D. (2010). Comparing three ways to update choquet beliefs, Economics Letters 107(2): 91 ­ 94.
Eichberger, J. and Kelsey, D. (2000). Non-additive beliefs and strategic equilibria, Games and Economic Behavior 30(2): 183 ­ 215.
Eichberger, J. and Kelsey, D. (2014). Optimism and pessimism in games, International Economic Review 55(2): 483­505.
53

Ellsberg, D. (1961). Risk, ambiguity, and the savage axioms, The Quarterly Journal of Economics 75(4): 643 ­ 669.
Eyster, E. and Rabin, M. (2010). Nave herding in rich-information settings, American Economic Journal: Microeconomics 2(4): 221­243.
Ford, J., Kelsey, D. and Pang, W. (2013). Information and ambiguity: herd and contrarian behaviour in financial markets, Theory and Decision 75(1): 1 ­ 15.
Froot, K. A., Scharfstein, D. S. and Stein, J. C. (1992). Herd on the street: Informational inefficiencies in a market with short-term speculation, The Journal of Finance 47(4): 1461­ 1484.
Ghirardato, P., Maccheroni, F. and Marinacci, M. (2004). Differentiating ambiguity and ambiguity attitude, Journal of Economic Theory 118(2): 133 ­ 173.
Ghirardato, P. and Marinacci, M. (2002). Ambiguity made precise: A comparative foundation, Journal of Economic Theory 102(2): 251 ­ 289.
Gilboa, I. and Schmeidler, D. (1989). Maxmin expected utility with non-unique prior, Journal of Mathematical Economics 18(2): 141 ­ 153.
Glosten, L. R. and Milgrom, P. R. (1985). Bid, ask and transaction prices in a specialist market with heterogeneously informed traders, Journal of Financial Economics 14(1): 71 ­ 100.
Gollier, C. (2011). Portfolio choices and asset prices: The comparative statics of ambiguity aversion, The Review of Economic Studies 78(4): 1329­1344.
Graham, J. R. (1999). Herding among investment newsletters: Theory and evidence, The Journal of Finance 54(1): 237­268.
Hansen, L. and Sargent, T. (2001). Robust control and model uncertainty, American Economic Review 91(1): 60 ­ 66.
Heath, C. and Tversky, A. (1991). Preference and belief: Ambiguity and competence in choice under uncertainty, Journal of Risk and Uncertainty 4(1): 5­28.
54

Hirshleifer, D., Subrahmanyam, A. and Titman, S. (1994). Security analysis and trading patterns when some investors receive information before others, The Journal of Finance 49(5): 1665­1698.
Huber, R. E., Klucharev, V. and Rieskamp, J. (2015). Neural correlates of informational cascades: brain mechanisms of social influence on belief updating, Social Cognitive and Affective Neuroscience 10(4): 589­597.
Ju, N. and Miao, J. (2012). Ambiguity, learning, and asset returns, Econometrica 80(2): 559­ 591.
Jurado, K., Ludvigson, S. C. and Ng, S. (2015). Measuring uncertainty, American Economic Review 105(3): 1177 ­ 1216.
Klibanoff, P., Marinacci, M. and Mukerji, S. (2005). A smooth model of decision making under ambiguity, Econometrica 73(6): 1849­1892.
Klibanoff, P., Marinacci, M. and Mukerji, S. (2009). Recursive smooth ambiguity preferences, Journal of Economic Theory 144(3): 930 ­ 976.
Lee, I. H. (1998). Market Crashes and Informational Avalanches, Review of Economic Studies 65(4): 741­759.
Park, A. and Sabourian, H. (2011). Herding and Contrarian Behaviour in Financial Markets, Econometrica 79(4): 973­1026.
Scharfstein, D. S. and Stein, J. C. (1990). Herd Behavior and Investment, The American Economic Review 80(3): pp. 465­479.
Schmeidler, D. (1989). Subjective probability and expected utility without additivity, Econometrica 57(3): 571 ­ 587.
Schro¨der, D. (2011). Investment under ambiguity with the best and worst in mind, Mathematics and Financial Economics 4(2): 107­133.
Tversky, A. and Kahneman, D. (1992). Advances in prospect theory: Cumulative representation of uncertainty, Journal of Risk and Uncertainty 5(4): 297 ­ 323.
Weizs¨acker, G. (2010). Do We Follow Others When We Should? A Simple Test of Rational Expectations, American Economic Review 100: 2340­2360.
55

8 Appendix
This Appendix is structured as follows. Section 8.A provides an intuitive example why it is reasonable to assume that an economically relevant share of market participants perceives ambiguity when facing investment decisions. Section 8.B contains the all proofs omitted from the main part. Section 8.C provides the formal results for the perturbed model discussed in Section 5 in the main part. Section 8.D discusses market outcomes of a purely optimistic market under GBU, thus detailing the results of Section 4.2 in the main part. Section 8.E collects results from Avery and Zemsky (1998) that are relevant to this paper. Section 8.F discusses in further detail the relationship between different definitions for informational cascades and why we chose the one provided by Avery and Zemsky (1998). Section 8.G is a repository of the most important definitions and results from Chateauneuf et al. (2007) that are needed to confirm that our application of NEO-additive CEU preferences to the model of Avery and Zemsky (1998) is correct. Finally, Section 8.H discusses some inconsistencies of the GBU rule as prices approach 0 or 1, thereby, supporting the idea that it is reasonable that  varies with the price.
8.A Example of an Investor Facing Informational Ambiguity
As an example for informational ambiguity, consider a risk-neutral rational retail investor who has to decide whether or not to buy a particular stock (e.g. BMW - a German car manufacturer). She will make money on the investment if the price of the stock goes up, she will lose money if the price goes down.
She receives a recommendation from her online broker to buy the BMW stock but she has little knowledge about the German automotive industry (and BMW in particular). She knows her online broker is right 60 % of the times but she is not fully sure about her broker's agenda in this case because she sees that the BMW stock price has depreciated during the past month.
Given that she is rational and risk-neutral, she should buy the stock if and only if she believes that the price of the BMW stock will rebound with a probability greater than 50%. In the present case, however, the information does not enable her to determine the relevant probability exactly.53
53One could argue that she would only need to update an uninformative prior with a noisy signal according to Bayes' rule to conclude that the price will go up with 60% probability. Yet, this would only be true if the retail trader was confident that the online broker's success probability of 60% does apply to the current
56

There are many different ways the retail trader might process the online broker's recommendation and the stock price information to arrive at a probability assessment. She could think that her broker would not make such a recommendation if he did not have some valid information that the BMW stock price will go up. If such recommendations were made arbitrarily, the broker would risk to alienate and eventually loose customers who make losses as they follow the broker's recommendation. Despite BMW's recent downturn, she assigns a probability greater than 50% that the BMW stock price will go up again. Put differently, she retains an optimistic attitude towards the investment prospect. On the other hand, she might also think that the broker recommends buying the BMW stock because he wants to sell out it's own BMW shares before the price drops further. This pessimistic view would lead to a probability assignment of less than 50% to an increasing stock price. Finally, she might retain a skeptical view on the online broker's recommendation but she might be less pessimistic than in the previous scenario. Since she knows little about cars and nothing about the broker's motivation for the recommendation, she might conclude that she could as well toss a fair coin to decide what to do, i.e. she assigns a probability of precisely 50% to an increasing stock price.
8.B Mathematical Proofs
In this section provide the remaining proofs of the main part of this paper.
Proof of Theorem 4.3: To proof this, we restate some of the results of Ford et al. (2013):
Lemma 8.1. In the CEU model with 0 > 0 and   [0; 1] fixed and t  [0; 1], we have · The ask price in the Avery and Zemsky model is increasing and concave in t. · The bid price in the Avery and Zemsky model is increasing and convex in t. · CEUS1(t) is increasing and concave in t. · CEUS0(t) is increasing and convex in t.
All properties hold in a strict sense.
situation.
57

Proof: The proof is provided in Ford et al. (2013).

With this, we can immediately prove the impossibility of herding in the CEU model with

fixed . We will conduct the proof for the impossibility of herding for the low signal S0. The

proof is symmetric for S1.

Let us start with the impossibility of buy herding. For buy herding to be possible, S0

has to sell initially, i.e.

x1 := CEUS0 (0) < bidCEU (0) < 0.

Moreover, we have that

y1 := CEUS0(1) = (1 - S0(1)) + S0(1) = 1 - S0(1)(1 - )  1.
Now assume that the market price has increased, i.e. t > 0. Then t can be written as a convex combination of 0 and 1. That is,   (0; 1) such that t = 0 + (1 - ). In line with Lemma 8.1, convexity of CEUS0(t) implies that   [0; 1], we have
x1 + (1 - )y1 > CEUS0(t).
Since x1 > 0 and y1  1, it immediately follows that
x1 + (1 - )y1 < 0 + (1 - ) = t  askCEU (t),
which in turn implies that CEUS0(t) < askCEU (t) t  [0; 1]. This is equivalent to the fact that S0 never buy herds.

The assumption of monotonicity of the CEU asset valuation implies that if S0 buys so does S1. This constitutes an informational cascade and, thus, S0 can never sell herd.
For argument's sake, however, let us drop the monotonicity assumption for a moment. Sell herding would then still be impossible: Assume that S0 buys initially (and S1 does not). Hence, we have
x1 := CEUS0 (0) > 0.

58

Moreover, we have again

y1 := CEUS0(1)  1.

Let

m1

:=

y1-x1 1-0

.

Then

m1

denotes

the

average

slope

of

CEUS0 (t)

on

[0; 1].

Since

x1

< 0

and y1  1, it follows that m1 < 1. Hence, since CEUS0(t) is convex and increasing, it

follows that

 C E US0 t

(0)



m1

<

1.

Again invoking that x1 > 0, this implies that the tangent 1 of CEUS0 in 0 lies above t on [o; 0]. Moreover, convexity of CEUS0 implies that CEUS0  1 for all t. Hence, we conclude that bidCEU (t) < t < 1  CEUS0 for all t  [0; 0], which precludes the

possibility that S0 engages in sell herding.

We continue the proof by showing the possibility of contrarian behavior for S0. Again, the argument is symmetric for the high signal.
Let S0 sell initially, then only buy contrarianism is possible. Hence, we have to find a t  (0; 0), such that CEUS0(t) > askCEU (t). Noting that
CEUS0(0) = S0(0) > 0 = askCEU (0),
continuity of CEUS0 and askCEU implies that CEUS0 > askCEU in a whole neighborhood of zero, i.e.  > 0 : CEUS0(t) > ask(t) t  [0; ]. But this already implies that S0 engages in buy contrarianism t  [0; ]. As before, monotonicity of CEU beliefs actually prevents sell contrarianism of S0 from being possible. For argument's sake, let us drop this assumption for a moment. Then sell contrarianism of S0 is indeed possible.
Let S0 buy initially. For S0 to act as a sell contrarian, we have to find a t  (0; 1), such that CEUS0(t) < bidCEU (t). Noting that
CEUS0(1) = (1 - S0(1)) + S0(1) = 1 - S0(1)(1 - ) < 1 = bidCEU (1)
and invoking a continuity argument as before implies that there exists ~ > 0 such that CEUS0(t) < bid(t) t  [1 - ~; 1]. Hence, S0 may engage in sell contrarianism.

59

Note that for the impossibility of buy herding, we could have actually shown that CEUS0 < bid for all   [0; 1]. Intuitively, the argument would be that the increase of CEUS0() in  is lower than the increase of the low signal's SEU belief E[V | S0, ] from the baseline model. Monotonicity in conjunction with convexity of CEUS0 and E[V | S0, ] as well as the fact that E[V | S0, 1] = 1 imply that CEUS0 must remain below the bid price. That is, even weak forms of herding, i.e. switches from selling (buying) to holding are impossible if  is fixed.

Proof of Theorem 4.5: Again due to symmetry, we show only the buy herding state-
ment. First, we note that S0(1) = 1, implies that CEUS0(1) = 1 = ask(1), where ask(·)  askCEU (·) denotes the ask price from the baseline model, see Equation (35).

Noting that (A2) implies that CEUS0 is regular, we get

 C E US0 

 =  [(1 - S0())E[V | S0] + S0()S0()]

=

(1

-

S0

())

 

E

[V

| S0] + S0() (S0() - E[V

| S0])

+S0 ()S0 ()

and evaluating it at  = 1, we get

 C E US0 

(1)

=

(1

-

S0 (1))

 

E1[V

| S0] + S0 (1)S0 (1),

(10)

where we used the fact that S0(1) = E1[V | S0] = 1. Since S0(1) = 0 due to (A2), we infer that CEUS0 must be strictly increasing in 1 and thus also in a neighborhood of 1.
Moreover, ask() is also strictly increasing in 1 and in a neighborhood of 1 (compare

Lemma 8.1). For CEUS0 to be greater than ask in a neighborhood of 1 it is thus sufficient,

if

 C E US0

(1)

<

ask (1).

 

(11)

Plugging in the right hand side of Equation (10) into the left hand side of Inequality (11)

and using that S0(1) = 0, we find that Inequality (11) is equivalent to

(1

-

S0

(1))

 

E1

[V

| S0] <

ask (1).


(12)

60

Solving for S0(1) yields Now observing that

S0 (1) >

 

E1

[V
 

| S0] E1[V

-

ask 

| S0]

(1)]

.

(13)

S0 (1)

=

(1

-

0 0)(1 -

q)

+

0

,

  E1[V

|

S0]

=

q 1 - q,

ask

µ(1 - q) + 

(1) =

,

 µq + 

we can solve Inequality (13) for 0 and obtain

0

>

1

-

µ(1 - q) + q(µ + 2)



,

which according to our initial argument is sufficient for the low signal to buy at prices in a neighborhood of 1.

We note that if we were to drop assumption (A1), then Theorem 4.5 would hold trivially if the low (high) signal were to buy (sell) initially given that there is no informational cascade. For this, we would only have to exchange S0 and S1 in the buy and sell herding conditions. Then, the sufficient condition for sell herding implies that S0() < bid()  bidCEU after a sufficiently strong price drop and, thus, CEUS0() < bidCEU (), which implies sell herding on the part of the low signal. The argument for S1 is symmetric. A similar argument can be made if the definition for herding included switches from hold to buy and sell and the informed traders held initially.
If the second part (A2) is dropped (i.e. regularity still holds), then we require an additional condition regarding S0(1) and S1(0).
Corollary 8.2. General Sufficient Condition For Herding Consider the CEU model with varying , where (A1) and (A3) hold and  is sufficiently regular in .

61

Let C := K1 + (1 - 0) (µ + )(1 - 2q), K2 0K2
where q denotes the signal precision, µ the informed trader share and  := (1 - µ)/3 and K1 := µ(1 - q) +  and K2 := µq + . If S0(1) = 1 and S0(1) < C, then buy herding occurs with positive probability. If S1(0) = 0 and S1(0) < C, then sell herding occurs with positive probability.
Proof: For the buy herding case, simply note that the S0(1) term does not disappear in Inequality (12). Then, solving it for S0(1) yields the condition S0(1) < C. The argument for sell herding is identical.
The boundary C implies that high primary ambiguity 0 still contributes towards the possibility of herding. The higher 0, the less negative the second summand of C, the larger C and the less binding the slope condition for the optimism function. If, however,  increases too strongly in 1, i.e. S0(1)  K1/K2, that is, the degree of optimism is rather inelastic with respect to changes in market sentiment for moderate prices, then no amount of primary ambiguity will lead to herd behavior.
In that sense, herding in the CEU model requires a departure from the certainty effect implied by propsect theory, compare e.g. Barberis and Thaler (2003). The certainty effect implies that individuals facing risk tend to undervalue probabilities close to 1 and overvalue probabilities close to 0. We would again appeal to the finding of Heath and Tversky (1991) that this is not necessarily the case for probability judgments under ambiguity.
Proof of Lemma 4.6: We will focus the proof on the herding case. The arguments are identical for the contrarian case.
Before we start the actual proof, let us state a supporting Lemma that will also help with our subsequent comparative static analysis. Lemma 8.3. Consider the CEU model. Let herding be possible and let wlog !  > 0,  < 0 such that S0 engages in buy herding for  >  and S1 engages in sell herding for  < .54
54This assumption is made for convenience. The sufficient condition only implies that there exist such  but not that they are unique. We would then have to consider the respective minimum or maximum over all such .
62

Then Equations



=

(µq

+

)x0

(µq + )x0 + (µ(1 - q) +

)x(1

-

0)

(14)

and



=

(µ(1

-

q)

(µ(1 - q) + )x0 + )x0 + (µq + )x(1

-

0)

(15)

have unique solutions x > 0 and x > 0 respectively. Then n := x + 1 defines the

minimum number of price increases the low signal has to observe before engaging in buy herding. Similarly, n := x + 1 defines the minimum number of price decreases the low

signal has to observe before engaging in sell herding.

Proof: Uniqueness and positivity of the solutions of Equations (14) and (15) with respect to x follow from the fact that r.h.s of Equation (14) is 0 for x = 0, goes to 1 as x   and is strictly increasing in x, while the r.h.s of Equation (15) is 0 for x = 0, goes to 0 as x   and is strictly decreasing in x. The definitions of n and n are immediately implied by Corollary 8.13.

We note that there are no closed-form solutions for x and x in general. Moreover, we have n = n, if we assume symmetry between S0 and S1 in the sense of Section 4.5. Finally, note that we can state a similar result for the contrarian case with the mere difference that  and  need to be exchanged.

Under the symmetry assumption for S0 and S1, the problem of calculating Pn in Lemma 4.6 essentially reduces to a common ruin problem. To see this, note that price updating in the
CEU model (Lemma 4.2) immediately implies that the probabilities P ({ increases in t}|t-1, V ), P ({ decreases in t}|t-1, V ) and P ({ remains constant in t}|t-1, V ) remain constant as long as t-1  [; ], where t  1 and ,  are from Lemma 8.3. In particular, we have

P ({ increases in t}|t-1, V ) = P (at = {buy} | V ) =: pb, P ({ decreases in t}|t-1, V ) = P (at = {sell} | V ) =: ps, P ({ remains constant in t}|t-1, V ) = P (at = {hold} | V ) =: ph.

(16)

63

Now, we define for t  0


it + 1  
it+1 := it - 1
  it

if  increases in t

if  decreases in t

,

if  remains constant in t

(17)

where i0 = 0. Then  <  is equivalent to it = -n and  >  is equivalent to it = n under the symmetry assumption. Let it denote the price process.

We derive the probability of an informational cascade under buy herding given that V = 0.
The case of sell herding when V = 1 is symmetric. Let AICB denote the event of a buy side informational cascade given that the price is
. Then, initially, we have

P (AIC0 B|V = 0) =P (AIC1 B  {i1 - i0 = 1}|V = 0) + P (AIC-1B  {i1 - i0 = -1}|V = 0) + P (AIC0 B  {i1 - i0 = 0}|V = 0).

(18)

We have decomposed AIC0 B disjointly and then used the additivity of probability measures for disjoint events. Now noting that the events AIC· B and {i1 - i0 = -1} are independent
and incorporating Equations (16), Equation (18) becomes

P (AIC0 B|V = 0) =pbP (AIC1 B|V = 0) + psP (AIC-1B|V = 0) + phP (AIC0 B|V = 0).
Denoting P (k) := P (AICk B|V = 0) and solving (19) for k = 0, we get

(19)

(1 - ph)P (0) = pbP (1) + psP (-1).

Since this holds for all integers k  [-n +1; -n +1] and moreover, P (n) = 1 and P (-n) =

64

0, shifting variables to j = k + n yields the following system of linear equations
(1 - ph)P (j) = pbP (j + 1) + psP (j - 1) j = 1, . . . , 2  n - 1  P (0) = 0  P (2n) = 1.

(20)

Since, on the other hand 1 = ps + pb + ph, we have that

(1 - ph)P (j) = pbP (j) + psP (j).

Equations j = 1, . . . 2n - 1 from Equation System (20) are, therefore, equivalent to

(P (j + 1) - P (j)) pb = (P (i) - P (i - 1)). ps

Let

K

:=

pb ps

.

By

backwards

induction

starting

at

j

=

2n

-1

we

then

get

P (j) - P (j - 1) = K2n-j(P (2n) - P (2n - 1))

(21)

for j = 1, . . . , 2n - 1. Now noting that

2n

1 = P (2n) - P (0) =

(P (j + 1) - P (j))

j=0

2n
= K2n-j(P (2n) - P (2n - 1))

j=0

2n
= (1 - P (2n - 1)) Kj

j=0
= (1 - P (2n - 1)) 1 - K2n , 1-K

where the last equation holds because

2n j=0

K

j

is

a

geometric sum.

Solving

this

for P (2n-1)

yields that

P (2n

-

1)

=

K - K2n 1 - K2n .

Now noting that P (j - 1) = (P (j - 1) - P (j)) + P (j) for j = 1, . . . , 2n - 1 and inserting

65

Equations (21) allows us to invoke another backward induction argument to conclude that

Kj - K2n P (j) = 1 - K2n . Setting j = n in Equation (22), basic algebra to transform the fraction yields

(22)

P (n)

=

K

n

1 - Kn 1 - K2n

=

K

n

1

1 +K

n

1 = exp(- ln(K)n) + 1 .

Noting that pb = µ(1 - q) +  and ps = µq +  if V = 0, and plugging these quantities in for K yields the formula for Pn in Equation (7).

We state an immediate consequence of Lemma 4.6.

Corollary 8.4. Under the same conditions as in Lemma 4.6, the probability of a correct informational cascade is given by

1

Pn = exp

- ln

µq+ µ(1-q)+

n

.

(23)

The prove is identical to the one of Lemma 4.6. It implies, in particular that Equation (22)

becomes

K-j - K-2n P (j) = 1 - K-2n

(24)

for arbitrary j  [0; 2n], where j is the number of price decreases that needs to be observed

before the correct informational cascade occurs.

Proof of Lemma 4.7: To develop an understanding for the idea of the proof note that a parameter shift can have two effects on Pn. First, it may affect P· directly. Second, it may cause n to vary. Noting that Pn decreases in n, this has an indirect effect on the probability of wrong herds. Changes in n occur as discrete jumps. Locally, this indirect
66

effect on P· is, therefore, zero. It becomes relevant only for larger parameter shifts. We first summarize the relevant calculus in a support lemma. Note that under the
assumptions of Section 4.5, we have that askCEU = ask if the market is prone to buy herding and buy contrarianism and that bidCEU = bid if the market is prone to sell herding and sell contrarianism. Hence, we can rely on the analytics of ask and bid from the Avery and Zemsky model to derive the results of Lemma 8.5.

Lemma 8.5. Consider the CEU model. Let Pn be as in Equation (7). Then the following hold

(i)

P· µ

<

0,

P· q

<0

(ii)

Px x

<0

(iii)

ask µ

> 0,

ask q

>

0

(iv)

bid µ

<

0,

bid q

<

0

(v)

 C E US µ

=0

(vi)

 C E US 0

> 0 iff S > E[V

| S, ];

 C E US 0

<0

iff

S

> E[V

| S, ]

(vii)

 C E US q

=

Eq[V |S,] q

+ q

q q

-

Eq[V |S,] q

+

q q

(q - Eq[V

| S, ])

(viii)

q q

>

0

if



=

S0

and



>

0.5

or

if



=

S1

and



<

0.5.

(ix)

Eq[V |S0,] q

< 0,

Eq[V |S0,] q

>0

Proof: For (i) note that

exp - ln µ(1 - q) +  µq + 

µq +  = µ(1 - q) + 

Differentiating the r.h.s. with respect to µ and q yields quantities > 0. Applying the quotient

rule, therefore implies (i).

For (ii) note that

Px = - ln x

µq+ µ(1-q)+
f2

exp(·) .

67

Noting that µq +  > µ(1 - q) +  implies that ln(·) > 0 and, thus (ii).

For (iii) and (iv) we refer to the reader to the market microstructure literature, e.g. Glosten

and Milgrom (1985).

(v) follows from the assumption that  is independent of µ.

For (vi) note that

0 0

=

1 f2

> 0.

The remainder follows from the definition of CEUS.

(vii) is a mere application of differentiation rules.

For (viii) note that e.g.

S0

=

(1

-

0)

[(1

-

0 q) +

q(1

-

)]

+

0

.

Differentiating

with

respect

to

q

yields

that

the

sign

of

q q

is

determined

by

-0(1-0)(1-2),

which is greater than 0 if and only if  > 0.5. The argument is symmetric for S1.

Finally, (ix) follows from the literature, see e.g. Chamley (2004).

For the main proof we make the assumption that the immediate effects of q on n dominate the ancillary effects transmitted through changes in the ambiguity parameters. That is, we assume that the increasing effect of q on the ask price and the decreasing effect of q on the additive component of S0's CEU belief

ask q

-

(1

-

q

)

Eq

[V 

| q

S0,

]

dominate the ancillary effect that an increase in q actually increases CEUS0 due to it's effect

on  and 

q

q q

+

q q

(q

- Eq[V

| S0, ]) .

That is, the difference of these terms should be positive.

Similarly, the difference between

(1

-

q

)



Eq

[V 

| q

S1,

]

-

bid q

68

and should also be positive.

q

q q

+

q q

(Eq [V

| S1, ] - q)

Then, (i)-(v) together imply that an increase in µ decreases P· and increases n. For the increase in n note that an increase in µ increases the ask price and decreases CEUS0 (decreases the bid price and increases CEUS1). The decrease in P· and the increase n together imply unambiguously that Pn decreases in µ.
(i)-(iv) and (vii) in conjunction with our previously made assumptions imply the effects
of an increase in q on the probability of a wrong cascade. The assumptions are required to ensure that q unambiguously increases n. Beyond that, the argument is identical to the one
of the increase of µ.
(vi) implies that an increase in 0 causes investors to more heavily rely on their gut feel parameter . In the case of contrarianism this means that CEU beliefs become less elastic to changes in , which shifts the cut-off points towards 0 and, hence decreases n, which in turn implies an increase in Pn. In the case of herding CEU beliefs become more elastic, which again shifts the cut-off points towards 0.
For the increase in  note that we define such an increase as follows: 1 is said to be greater than 2 if and only if 1() < 2()   (0; 0) and 1() > 2()   (0; 1). Now consider some  > 0. An increase in  then implies an in increase in CEUS regardless of the signal type. For the low signal prone to buy herding this means that the cut-off point  moves left, i.e. n decreases and Pn increases. For the high signal, who is prone to contrarianism this means that  moves right, i.e. n increases and Pn decreases. The argument is symmetric if  < 0.

Proof of Lemma 5.3: We start by proving that Pn  PW H . We can again focus on the buy herding case given V = 0 due to symmetry. For ease of notation we assume without loss of generality that = 1. The line of reasoning is identical if 0 < < 1.
Let it be defined as in Equation (17) and let it be the corresponding price process. Moreover, let ps and pb be the true buy and sell probabilities in the perturbed model given V = 0. Note that pb and ps correspond to the respective buy and sell probabilities in the CEU model. Finally, let p~s and p~b be the corresponding buy and sell probabilities as perceived by
69

the market. We note that for it  [-k + 1; k - 1], we have ps = p~s and pb = p~b since both informed
traders act as in the baseline model without ambiguity. For it  [k; n - 1], we have that S0 holds and S1 buys and, thus,

pb = µ(1 - q) +  < µ(1 - q) +  = p~b .

ps µq + 

 p~s

(25)

Hence, the CEU model assumptions imply a lower probability for strong buy side accumula-
tions than in the perturbed model. This indicates that Pn underestimates PW H . Correspondingly, for it  [-n+1; -k], we have that S1 holds and S0 sells, thus yielding

pb = µ(1 - q) +  >  = p~b . ps µq +  µq +  p~s

(26)

Hence, the CEU model assumptions imply a higher probability for strong sell side accumu-
lations than the perturbed model. This indicates that Pn overestimates PW H . Now, aggregating the net underestimation and net overestimation for some it,1  [-n +
1; -k] and some it,2  [k; n - 1] respectively, we get

µ(1 - q) +  - µ(1 - q) +  + µ(1 - q) +  - 

µq + 



µq + 

µq + 

(1 - 2q) - µq(1 - q)

=µ

< 0.

(µq + )

Due to symmetry we can consequently infer that for it  [-n + 1; n - 1], Pn in total
underestimates PW H . For it  -n Pn underestimates PW H in the sense that in the CEU model social
learning stops and the sell herd can never be broken to result in a buy herd after all. For it  n, Pn overestimates PW H in the sense that in the CEU model social learning
stops and the buy herd can never be broken to result in a sell herd after all. Since, however, for it  n, we have that

and for it  -n, we have

p~s =

 ,

p~b µq + 

p~b =

 ,

p~s µq + 

(27) (28)

70

we conclude that the probability to observe a sell herd given that there is currently buy herding is exactly equal to the probability to observe a buy herd given that there is currently sell herding. Hence, the associated over- and underestimation of Pn versus PW H cancel out.
In total Pn is, thus, a lower boundary for PW H .

We move to show that Pk  PW H . For this to see, note that as above the probability of it becoming  |k| in the CEU model and the perturbed CEU model is the same. Again,

we focus on the buy herding case, where V = 0 and when = 1 without loss of generality. In the perturbed model, the probability of observing a price reversal given that it  k is

relatively higher than the probability of observing a price reversal into the opposite direction

given that it  -k.

Note that if it  k, then

p~s p~b

=

 µ(1-q)+

.

Similarly, if it

 -k, then

p~b p~s

=

 µq+

.

Observing

that the

second

ratio

is smaller

than

the

first

one,

this

confirms our

claim.

Now, invoking a similar symmetry argument as in the lower boundary case, we conclude that

Pk is, indeed an upper boundary of PW H .

If k

= n,

then

PWN

CK H

= Pn .

This implies in particular that

probabilities of

wrong

herds

and wrong learning coincide if there is no bid-ask spread.

8.C Formal Results for the Perturbed Model

The perturbed CEU model is described by the following two Propositions.

Proposition 8.6. Equilibrium Prices in the Perturbed CEU Model For any time t, let bidt and askt be the bid and ask prices that are quoted in the Avery and Zemsky model. Let t be the public belief in the perturbed CEU model. Moreover, let

bidt

:=

(µ(1

-

q)

(µ(1 - q) + )t +

+ )t (µq + )(1

-

, t)

bidt1-

:=

(µ(q(1 -

)

+

(1

-

(µ(q(1 - q)) + )t

) + (1 - + (µ((1

q)) + )t - q)(1 -

)

+

q)

+

)(1

-

t)

,

askt

:=

(µq

+

)t

(µq + )t + (µ(1 - q)

+

)(1

-

, t)

askt1-

:=

(µ(q + (1 - q)(1 - )) + )t (µ(q + (1 - q)(1 - )) + )t + (µ((1 - q) + q(1 -

)) + )(1 - t) .

71

Then, the market maker quotes the following bid and ask prices


min{bidt; CEUS0 (t)},   bidt-CEU = bidt,
 bid1t - ,

if CEUS0 (t)  bidt if CEUS0 (t) < bidt  CEUS1 (t)  bidt if CEUS0 (t) < bidt  CEUS1 (t) < bidt

and



max{askt ; CEUS1 (t)}, if CEUS1 (t)  askt





askt-CEU = askt,

if CEUS1 (t) > askt  CEUS0 (t)  askt



askt1- ,

if CEUS1 (t) > askt  CEUS0 (t) > askt.

Proof: The proof is essentially a repeated application of Bayes' rule and game theoretic arguments as in the proof of Lemma 4.1. We outline the proof for bidt-CEU when CEUS0(t)  bidt. The arguments for the other cases are similar.
First note that by monotonicity of the informed traders asset valuation, i.e. CEUS0(t) < CEUS1(t), the high signal does not sell if the low signal does not sell. Consequently, by Bayes' rule the bid price under the zero-profit condition for the market maker is

bidt-CEU

=

P~(at

= {sell}|Ht, V = 1)P (V P~(at = {sell}|Ht)

= 1|Ht)

= bidt,

since P (V = 1|Ht) = t, P~(at = {sell}|Ht, V = 1) = µ(1 - q) +  and P~(at = {sell}|Ht) =
(µ(1 - q) + )t + (µq + )(1 - t). Thus, noting that bidt > bidt, we have to distinguish
between the case where CEUS0(t) < bidt and where CEUS0(t)  bidt. If CEUS0(t) < bidt, then quoting bidt-CEU = bidt would cause the low signal to sell
at t. Yet, if S0 sells, the market maker makes zero-profit only when quoting bidt < bidt.
Hence, he makes an average loss on every sell he fills of bidt - bidt, causing him to eventually go out of business. As long as the market maker quotes bidt-CEU > CEUS0(t) and S0 sells
at t a similar argument applies. Consequently, it must be that bidt-CEU  CEUS0(t) to ensure that S0 holds. When
quoting bidt-CEU < CEUS0(t), then the market maker makes an expected profit of bidt - bidt-CEU . His Bertrand competition can then quote a more competitive bid price, bid, where

bidt-CEU < bid < CEUS0 (t).

By this the competition draws away all noise traders from the market maker, making a

72

slightly smaller but still positive expected profit bidt - bid on every sell they fill. The market maker's best response to bid would then be a similar increase in the quoted
bid price. This price war continues until
bidt-CEU = bid = CEUS0 (t).
Hence, for CEUS0(t) < bidt, bidt-CEU = CEUS0(t) is the equilibrium bid price. If CEUS0(t)  bidt, then the market maker quotes bidt-CEU = bidt according to the
zero profit condition. Hence,
bidt-CEU = min{bidt; CEUS0 (t)},
if the low signal stops selling.

Key thing to note here is that askt-CEU = askt (bidt-CEU = bidt) as long S1 buys (S0) sells. As a consequence, the analytics of a switch from selling to buying and vice versa are the same as in the unperturbed CEU model. This, in turn implies that Theorems 4.3, 4.4 and 4.5 also hold in the perturbed model.
Moreover, since bidt < askt1- (bid1t - < askt ), there is a positive bid-ask spread even if all informed traders take the same action. This is because the market (maker) believes there is a share of SEU traders in the market. Hence, there is no complete informational cascade in the perturbed CEU model since the market still infers information from the trades and updates prices accordingly. This is formalized in
Proposition 8.7. Public Belief Updating in the perturbed CEU Model Under the assumptions and with the notation of Proposition 8.6, let

ht1

:=

(µ(1 - q)(1 - ) + )t

,

(µ(1 - q)(1 - ) + )t + (µq(1 - ) + )(1 - t)

h2t

:=

(µq(1 -

(µq(1 - ) + )t ) + )t + (µ(1 - q)(1 -

) + )(1 - t) .

Then: (1) If the high CEU-signal buys and the low CEU-signal sells at time t, then t+1 is as in
73

the model of Avery and Zemsky, see Equation (39).

(2) If the high CEU-signal buys and the low signal holds at time t, then


askt,  
t+1 = bidt,   ht1,

if at = {buy} if at = {sell} if at = {hold}.

(29)

(3) If the high CEU-signal holds and the low CEU-signal sells at time t, then


askt ,  
t+1 = bidt,
  h2t ,

if at = {buy} if at = {sell} if at = {hold}.

(30)

(4) If both CEU-signals buy at time t, then

askt1- ,  
t+1 = bidt,
  t,

if at = {buy} if at = {sell} if at = {hold}.

(31)

(5) If both CEU-signals sell at time t, then


askt ,   t+1 = bid1t - ,   t,

if at = {buy} if at = {sell} if at = {hold}.

(32)

Proof: The proof is similar to the one of Lemma 4.2. For the sake of completeness let us consider case (4), which corresponds e.g. to a buy herding regime. By Bayes' rule the updated prior belief after action at is observed is given by

t+1

=

P [V

= 1|Ht+1]

=

P~(at|Ht,

V = 1)P (V P~(at|Ht)

= 1|Ht) .

When choosing at = {buy} and at = {sell}, then the updating rule for t+1 after an observed

74

buy and sell immediately follow from Proposition 8.6. That the price remains stable after a hold can also be inferred from the above formula. Intuitively, it reflects that the market considers a hold to be conducted by a noise trader for sure. All informed traders that are considered to be present on the market either buy (high signal S1 or CEU preferences) or sell (low signal S0 with SEU preferences) the asset. As a consequence, a hold bears no informational value.
75

To prove Propositions 5.1 and 5.2 in the main part, we need the following support propositions
Proposition 8.8. In the perturbed CEU model, let  < 0 ( > 0) be the cut-off prices, such that S1 sell herds for all  <  (S0 buy herds for all  > ). Then tBH := (t|t > ) is a sub-martingale with respect to Ht and tSH := (t|t < ) is a super-martingale with respect to Ht.
Proof: We only show that tBH is a sub-martingale. The proof is symmetric for tSH . To show that tBH is a sub-martingale with respect to Ht, we need to prove that E[tB+H1 | Ht]  tBH . Since tB+H1 is bounded by definition other martingale properties follow immediately. Note that showing E[tB+H1 | Ht]  tBH is equivalent to showing
E[t+1 | Ht, t > ]  t.

Let pb := P [at = {buy}|Ht, t > ], ps := P [at = {sell}|Ht, t > ] and ph := P [at = {hold}|Ht, t > ] be the actual probabilities to observe a buy, sell and hold respectively
given that S0 buy herds. Then from Case (4) of Proposition 8.7, we infer that

E[t+1 | Ht, t > ] = pbaskt1- + psbid + pht.

(33)

Now define

p~b := (µ(q + (1 - q)(1 - ) + )t + (µ((1 - q) + q(1 - ) + )(1 - t)

and p~s := (µ(1 - q) + )t + (µq + )(1 - t)
to be the unconditional probabilities of a buy and sell respectively as perceived by market participants. Observe that ph =  and that pb = p~b + x and ps = p~s - x, where x = µ((1 - q)t + (1 - t)q). Moreover, we set
p~1b := µ(q + (1 - q)(1 - ) + 
and p~s1 := µ(1 - q) + 
to be the corresponding buy and sell probabilities conditional on V = 1.

76

In line with Proposition 8.6, we can then rewrite the r.h.s. of Equation (33) so that we have

E[t+1 | Ht, t > ]

=

pb

p~b1 p~b

t

+

p~s1 p~s

t

+

pht

=

(p~b

+

x) p~1b p~b

+

(p~s

-

x) p~1s p~s

+



t

=

p~1b + p~s1 +  + x

p~b1 - p~1s p~b p~s

t

=

1 + x p~1b - p~1s p~b p~s

t,

where for the last step observe that p~b1 = µq + µ(1 - q)(1 - ) +  and p~s1 = µ(1 - q) +  and, thus, p~1b + p~2s = µ + 2. Since moreover µ + 3 = 1 by definition the last equality holds. Based on this, however, showing E[t+1 | Ht, t > ]  t is equivalent to showing that
p~1b p~s - p~s1p~b > 0. Noting that p~s =  + x and that p~b = µ +  - x and plugging in the respective
formulae, basic manipulations of the l.h.s. of the last inequality yield

p~b1p~s - p~s1p~b = µx - µ2 (1 - q) + 2x - 2µ (1 - q) = µ2 [(1 + 2 )((1 - q)t + (1 - t)q - (1 - q))] = µ2 [(1 + 2 )(1 - t)(2q - 1)] > 0,

since q > 0.5, which concludes the proof.

Proposition 8.9. In the perturbed CEU model, let  < 0 ( > 0) be the cut-off prices, such that S0 is a buy contrarian for all  <  (S1 is a sell contrarian for all  > ). Then tSH := (t|t > ) is a super-martingale with respect to Ht and tSH := (t|t < ) is a sub-martingale with respect to Ht.
Proof: The proof is point-symmetric to the one for Proposition 8.8.

77

8.D Discussion of a Purely Optimistic Market in the CEU Model
We limit our attention to the purely optimistic case since the purely pessimistic case is symmetric. The subsequent analysis holds in the CEU model as well as in the perturbed CEU model, yet we state formal results only for the CEU model.

We start by noting that in a purely optimistic market, the high signal always buys. Since 1 =  > Et[V | S1, Ht] for all t  (0; 1), it follows that CEUS1(t) > Et[V | S1] > ask(t) for all t  (0; 1).
For the low signal, one of three cases is possible depending on the primary ambiguity 0. If 0 > , i.e. if it is high enough, then the purely optimistic low signal always buys, too. If 0 < , i.e. if it is low enough, then S0 essentially behaves as in the case where   (0; 1). If 0 is between the two cut-off points, then S0 will buy at low prices but eventually switch into holding as t approaches 1.

Lemma 8.10. In the CEU model with  = 1 and 0 > 0, the high signal always buys. For the low signal: ,   (0; 1) with  > , such that

· S0 always buys if and only if 0 > ,

·  < 1 such that S0 sells t  (; 1) if and only if 0 < ,

·  < 1 such that S0 holds t  (; 1) if and only if   0  ,



where  = -K1+

K12+4K2 2

and

 =

-K3+

K32+4K4 2

with

2(1 - q) (µ(1 - q) + ) - q(µq + )

K1 =

(µq + ) + q (µ(1 - q) + )

(1 - q) [q(µq + ) - (1 - q) (µ(1 - q) + )]

K2 =

q [(µq + ) + q (µ(1 - q) + )]

2(1 - q)(µq + ) - q (µ(1 - q) + )

K3 =

(µ(1 - q) + ) + q(µq + )

(1 - q) [q (µ(1 - q) + ) - (1 - q)(µq + )]

K4 =

q [(µ(1 - q) + ) + q(µq + )]

Proof: For S1, there is nothing left to show. For S0, note that by a calculus argument similar to the ones used in the proof of Theorem

78

4.5, we have that S0 always buys if and only if

 C E US0

(1)

<

ask (1).

t t

To see that this inequality holds if and only if 0 > , plug in the respective formulas to obtain a quadratic inequality of the form 02 + K1 - K2 > 0. Observe that the l.h.s. of this inequality has two roots one which is < 0. Consequently, for this inequality to hold, 0 must be greater than the larger root, which is given by .
Observe again that the calculus arguments from the proof of Theorem 4.3 yield that S0 sells the asset when the price is in a neighborhood of 1 if and only if

 C E US0

(1)

>

ask (1).

t t

As before, this inequality holds if and only if 02 + K3 - K4 < 0. A similar argument as in the previous case yields that for 0 > 0, this holds if and only if 0 < .
With both cut-off points given, it follows immediately that S0 holds in a neighborhood of 1 (but never buys) if and only if   0  .

Figure 8 illustrates the trade behavior of the CEU traders if they are purely optimistic. In Figure 8 (a), the low signal always buys. Indeed, the primary ambiguity level 0 = 0.5 is above the cut-off point  = 0.47 from Lemma 8.10. Since S1 always buys as well, there is no social learning in a purely optimistic market. The market by default is in the state of an informational cascade.
In the perturbed model, the informed traders would drive the asset price towards  = 1, regardless of the initial prior and independently of the true value of V .
This is the paragon of irrational exuberance driving the asset price away from it's fundamental value. Observe, however, that this is not a case of investor herding in the sense of Definition 3.1. While informed traders accumulate on the buy side of the market, they never change their initial trading decision. The herd-like behavior exhibited by the informed traders is due only to the high degree of perceived ambiguity in conjunction with the fundamentally unrelated pure optimism.
In Figure 8 (b), the low signal sells if t > 2 and buys only if t < 1 due to a low degree of primary ambiguity. Indeed, her additive belief component dominates, making her
79

(a) High primary ambiguity 0 = 0.5
(b) Low primary ambiguity 0 = 0.1
Figure 8: Low signal trading decisions in case of pure optimism
Notes: Low signal CEU beliefs as well as bid and ask prices with respect to t for high and low primary ambiguity 0. The degree of optimism is  = 1, the informed trader share is µ = 0.3 and the signal precision q = 0.7. The cut-off points according to Lemma 8.10 are  = 0.47 and  = 0.22.
act as though in the baseline model if prices are high. This case is covered by Theorem 4.3. Once the price drops below 1 a buy contrarian cascade occurs. This happens with positive probability even if V = 1. So even a purely optimistic market does not necessarily become confident regarding V = 1. Contrary to the case where  < 1, there is, however, at least the possibility that the market confidently learns about V = 1, since high signal traders always buy.
In the perturbed model, there is no informational cascade. If V = 0 is the true state, the majority of low signals in the market will prevent the price from remaining above 2 for extended periods of time. If the price is below 2 or even below 1, however, the likelihood of observing a price increase is greater than that of a further price decrease. Hence, we would assume, the price to always revert towards 2. If V = 1, the market will confidently learn
80

about the correct true state, as the majority of the high signals eventually pushes the price arbitrarily close to 1.

8.E Collection of Additional Results from Avery and Zemsky
For the reader's convenience we have collected relevant formulas for the Avery and Zemsky (1998) model in the following.
Lemma 8.11. Formulas of the Avery and Zemsky Framework In the Avery and Zemsky (1998) framework with initial prior 0, informed trader share µ, symmetric binary signals P [S|V ] with signal precision q and noise traders that buy, sell or hold with equal probability , the following equations hold.
(i) Buy and sell probabilities conditional on V :

P (at = {buy}|V = 0) = P (at = {sell}|V = 1) = µ(1 - q) +  P (at = {sell}|V = 0) = P (at = {buy}|V = 1) = µq + 

(34)

(ii) Ask price in t:

askt

=

(µq

+

)t

(µq + )t + (µ(1 - q) +

)(1

-

t)

(iii) Bid price in t:

bidt

=

(µ(1

-

(µ(1 - q) + )t

q) + )t + (µq + )(1

-

t)

(iv) Expected value asset valuation by low signal in t:

E[V

| S0, Ht] =

(1 - q)t (1 - q)t + q(1 - t)

(v) Expected value asset valuation by high signal in t:

E[V

| S1, Ht] =

qt qt + (1 - q)(1 - t)

(35) (36) (37) (38)

81

(vi) Price updating after observing trade action in t:


askt,  
t+1 = bidt,
  t,

if at = {buy} if at = {sell} if at = {hold}

The proofs can be found in Avery and Zemsky (1998).

(39)

In addition, we provide some interesting properties of the public belief t in the Avery and Zemsky model. The following proposition shows that the public belief can be uniquely identified with any order imbalance in the trade history Ht.
Proposition 8.12. Public Belief And Order Imbalance Let (µ, q, 0) be some model parameterization of the Avery and Zemsky (1998) and let noise traders buy, sell or hold with equal probability . Moreover, let Ht be some trade history containing b buys, s sells and h holds, where z := b - s denotes the trade imbalance. Then, t does not depend on the order at which traders arrive at the market if b, s, h remain unchanged. In particular, t only depends on the model parameters and z.
Before we provide the proof we would like to state a few implications of Proposition 8.12. Indeed, it suggests that we can view t as a measure for general market sentiment. The larger t, the larger the buy side accumulation of traders, the more optimistic the market as a whole and vice versa. Based on Proposition 8.12, we can also derive the following formula for t based on model parameters µ, q and 0 as well as the order imbalance z.
Corollary 8.13. With the same notation as in Proposition 8.12, we have


  

(µq+)z

0

(µq+)z 0 +(µ(1-q)+)z

(1-0

)

,

t(z)

=



(µ(1-q)+)-z 0 (µ(1-q)+)-z 0 +(µq+)-z

(1-0)

,





0,

if z > 0 if z < 0 if z = 0

(40)

Proof of Proposition 8.12 and Corollary 8.13 To prove Proposition 8.12, we first show the following

82

Lemma 8.14. In the Avery and Zemsky (1998) framework with prior probability 0, at any time   [1; T ], we have

t = P (V = 1|Ht) =

 t=1

P

(at|V

= 1)0

 t=1

P

(at

|V

= 1)0 +

 t=1

P

(at|V

= 0)(1 - 0)

(41)

Proof: We show this via induction over  . Let  = 1. Using Equation (39), Bayes' rule and the law of total probability readily imply that

1

= P (V

= 1|H1) =

P (a1|V

=

P (a1|V 1)0 + P

= 1)0 (a1|V =

0)(1

-

0)

.

Now let us assume that the statement from Lemma 8.14 is true for any   1, then as for

 = 1, we get

 +1

=

P (a+1|V

=

P (a+1|V = 1) 1) + P (a+1|V

=

0)(1

-



)

.

Now using the induction assumption, we can plug in the r.h.s. of Equation (41) for  and

get:

+1 = P (a+1|V = 1)

 t=1

P

(at

|V

= 1)0 ,

C

where


C :=P (a+1|V = 1) P (at|V = 1)0
t=1 
+ P (a+1|V = 0) P (at|V = 0)(1 - 0).
t=1

As we absorb the terms P (a+1|·) into the respective products, we have shown that Equation (41) holds for  + 1, which concludes the proof. Now continuing the proof of Proposition 8.12, we consider any history Ht of length  2 (if Ht contains less than two actions, then there is nothing to show). Now let (Ht) denote an arbitrary permutation of actions contained in Ht, then (Ht) =: H~t defines a second history with equal length as well as equal number of buys, sells and holds as Ht. Applying Equation 41, we see that P (V = 1|Ht) and P (V = 1|H~t) are identical up to a commutation within the product terms (·). Consequently, we have P (V = 1|Ht) = P (V |H~t), which prooves that t does not depend on the order of arrival of traders as long as their trading decisions remain
unchanged.

83

For the second part of Proposition 8.12 assume that history Ht contains b buys s sells and h holds. Let us assume without loss of generality that b  s. Moreover, for notational convenience, let us denote pB· = P (at = {buy}|V = ·), pS· = P (at = {sell}|V = ·) and p·H = P (at = {buy}|V = ·) for the remainder of the proof. Since the order of the actions is not important, we can rewrite Equation (41) as

t

= P (V

= 1|Ht) =

(p1B

)b(p1S

(pB1 )b )s(pH1 )h0

(p1S)s(p1H )h0 + (pB0 )b(pS0 )s(pH0

)h(1

-

0)

.

Now noting that pS0 = p1B and vice versa and that p0H = pH1 , we can factorize the denominator so that we get

t

= P (V

= 1|Ht) =

(pB1

)s

(p1S

(pB1 )b(pS1 )s(p1H )h0 )s(p1H )h[(p1B)b-s0 + (p0B

)b-s(1

-

0)]

.

Setting b - s = z and reducing the fraction, we get

t = P (V

= 1|Ht) =

(p1B

)z

0

(pB1 )z0 + (pB0 )z

(1

-

0

)

.

(42)

For s > b, symmetry implies that we can simply replace the buy probabilities in Equation (42)

with the corresponding sell probabilities, which concludes the proof that t only depends on z and the model parameters. To see that Corollary 8.13 holds, use the formulas for P (at|V )

according to Lemma 8.11.

8.F Informational Cascades
Proposition 8.15. In the two-state, two-trader version of the Avery and Zemsky (1998) framework, an informational cascade occurs if and only if all informed traders take the same action.
The "if" part of the result generalizes to any number and even to a continuum of states and different informed traders as long as all model parameters are common knowledge and the conditional signal distribution P (S|V ) is not constant in V . In general settings, e.g. confounded learning, informational cascades may occur if agents take different actions, compare Exercise 4.6 in Chamley (2004). Proof:
84

"": Let us assume all informed traders take the same action at t. Let this action without loss of generality be a buy. Then:

P (at = buy|Ht, "trade is informed") = P (S = S0|Ht) + P (S = S1|Ht) = 1

(43)

and

P (at = buy|Ht, V, "trade is informed") = P (S = S0|Ht, V ) + P (S = S1|Ht, V ) = 1

(44)

as well. We also note that the corresponding conditional probabilities for any informed trader action other than a buy are zero. Hence, we get

P (at = buy|Ht, V ) = P ("informed buy"|Ht, V ) + P ("uninformed buy"|Ht, V ) = P (at = buy|Ht, V, "trade is informed")P ("trade is informed"|Ht, V )
+ P ("uninformed buy"|Ht, V ).

Now noting that the probability µ that a trade is informed and the probability  that an uninformed trader buys do not depend on the state of the world and applying equations (43) and (44), we get

P (at = buy|Ht, V ) = P (at = buy|Ht, "trade is informed")P ("trade is informed"|Ht)
+ P ("uninformed buy"|Ht) = P (at = buy|Ht).
For any action other than buy, we have that P (at|Ht, V ) =  = P (at|Ht) and, therefore, the probability is independent of the state of the world, which concludes this part of the proof. We note that common knowledge is crucial to the proof since Equations (43) and (44) would not necessarily hold if the informed traders' actions were obscured by some unobservable preference parameters.
85

"": We proof this indirectly by assuming that without loss of generality the low signal sells at t while the high signal buys. Then:

P (at = buy|Ht, "trade is informed") = P (S = S1|Ht) = tq + (1 - t)(1 - q)

and

P (at = buy|Ht, V, "trade is informed") = P (S = S1|Ht, V )
 tq, = (1 - t)(1 - q)

V = V1 .
V = V0

We infer from equations 45 and 46 that

(45) (46)

P (at = buy|Ht, "trade is informed") = P (at = buy|Ht, V, "trade is informed"),
which readily implies that P (at = buy|Ht, V ) = P (at = buy|Ht) and, therefore, concludes the second part of the proof.

8.G CEU and NEO-Additivity Toolbox
This section is a summary of the most important concepts and results of Chateauneuf et al. (2007) and Eichberger et al. (2010). It is the mathematical foundation for Section 3.
Capacities and Choquet Expected Utility (CEU): Let S  R denote a non-empty set of possible states of the world. Let (S) =: E denote the corresponding Borel Sigma-Algebra of all possible subsets of S. Note that by definition s  S : {s}  E.
Definition 8.16. Capacity A capacity is a mapping  : E  [0; 1] that assigns likelihood values to events in a way that it fulfills the following properties:
(i) Monotonicity: E, F  E, where E  F : (E)  (F )
86

(ii) Normalization: () = 0 and (S) = 1.
We note that a capacity defines a normalized measure. A special case of capacities are probability measures. Yet, capacities in general are not additive with respect to E. This non-additivity implies in particular that for some event E, where 0 < (E) < 1, we do not necessarily have that (E) = 1 - (EC), where EC denotes the complement of E. Therefore, capacities are suited to model agent behavior under ambiguity.
Capacities are designed to explain the Ellsberg paradox of Ellsberg (1961). In Ellsberg's experiment individuals are confronted with the choice of drawing a ball from one of two urns. They know that the first urn contains 50 white balls and 50 black balls while the composition of the second urn is unknown. Subjects win money, if they draw a white ball. Most participants choose to draw from urn 1, where the composition is known. This implies that they assign a probability of less than 50% of drawing a white ball from urn 2. Now, Savage's sure thing principle would predict that when the winning condition is changed to drawing a black ball, subjects should prefer urn 2 to urn 1. A corresponding repetition of the experiment shows, however, that subjects still tend to prefer urn 1 to urn 2, thus, violating Savage's SEU framework.

Next we define the Choquet integral with respect to capacities for a set of simple functions:
Definition 8.17. Choquet Integral Let f : S  B  R, where B has a finite number of elements. The Choquet integral with respect to the capacity  is defined as

f d :=

t · [({s | f (s)  t}) - ({s | f (s) > t})].55

tf (S)

The Choquet integral is interpreted as the expected value under ambiguity. If we think of f
being a utility function, it is natural to denote CEU := f d as the Choquet Expeted Utility
of an individual that perceives ambiguity and has ambiguity preferences that are captured
by .
55Note that the term ({s | f (s)  t}) - ({s | f (s) > t}) very much reminds us of decision weights from prospect theory according to Tversky and Kahneman (1992). Yet, while probability weightings are merely distortions of objective probabilities designed to capture individuals' tendencies to wrongly assess given probabilities, capacities model how individuals assign likelihoods to outcomes, for which no (single) probability is available.

87

NEO-Additive Capacities: We provide a simplified definition for neo-additive capacities that is sufficient for this study.
Definition 8.18. NEO-Additive Capacity Let  be a probability measure on (S, E) and let


0   
 = 
  1

E= E=  E=S E=S

be the Hurwicz capacity and let ,   [0; 1], then a neo-additive capacity (· | , , ) is defined as
(E | , , ) := (1 - )(E) + (E).

The CEU with respect to a neo-additive capacity is shown by Chateauneuf et al. (2007) to be

CEUneo[f ] = (1 - )E[f ] + ( · max{f -1(x)}
xB
+(1 - ) · min{f -1(x)}).
xB

(47)

The function f again is a simple function in the sense of Definition 8.17. When assuming that informed traders have neo-additive CEU preferences in the Avery and Zemsky (1998) framework, f is the identity as we maintain the assumption of risk neutrality. Since there are only two states V0 = 0 and V1 = 1, the non-additive part simplifies to (·1+(1-)·0) = . The parameter  describes the degree of perceived ambiguity, while the parameter  measures the attitude towards ambiguity.

The absolute ambiguity attitude in the sense Ghirardato and Marinacci (2002) for individuals with neo-additive CEU preferences is then given by the following
Proposition 8.19. Absolute Ambiguity Attitude Let neo denote a preference relation that can be represented by a neo-additive capacity (E | , , ). Then, neo is ambiguity averse (loving) in the sense of Ghirardato and Marinacci (2002) if and only if  < (>)E[·]. It is ambiguity neutral if and only if  = E[·].
Proof: According to Proposition 15 in Ghirardato and Marinacci (2002), a preference re-
88

lation is ambiguity neutral if and only if it is SEU. In the case of neo-additive capacities
this would mean that CEUneo = E. Now, let us assume that without loss of generality utilities are normalized (or canonical), that is, max{u-1(x)} from Equation (47) equals 1 and min{u-1(x)} = 0. Now solving Equation (47) for , we get  = E. Hence, neo-additive
preferences are ambiguity neutral if and only if  = E. If ~ > E, it follows that CEUn~eo > CEUneo. This, in turn, implies that CEUneo is more ambiguity averse than CEUn~eo according to Definition 4 in Ghirardato and Marinacci (2002). Since we have already shown that CEUneo is SEU, Definition 9 in Ghirardato and Marinacci (2002) implies that CEUn~eo ambiguity loving. The argument for absolute ambiguity aversion is symmetric.

General Bayesian Updating (GBU) Rule: The following GBU rule for neo-additive capacities is derived and discussed by Eichberger et al. (2010).

Proposition 8.20. General Bayesian Updating Let E  S be some conditioning event and let (· | , , ) be an unconditional neo-additive capacity. Let (E) > 0. Then:

· The capacity E(· | , , ) that is conditioned on E is neo-additive as well;
· The additive probability  is updated to E according to Bayes' rule, i.e. E(A) = (A  E)/(E) for A  E;

· E = ;

·

E

=

 (1-)(E)+

.

8.H Inconsistencies of GBU in the CEU Model

An important reason why  should vary with  is that it allows consistent assumptions regarding asymptotic ambiguity attitudes as the market becomes confident about either state. If   (0; 1) is constant, then for both informed trader types

trel

=

 Et [V | Ht, S]

  < 1,

as

t

1

(48)

89

and

trel

=

 Et [V | Ht, S]

 ,

as

t

 0.

(49)

In other words, informed traders become pessimistic as the market becomes confident about

the high state. Similarly, traders become absolute optimistic as the market becomes confident

about the low state. Hence, a fixed  in the CEU model does not guarantee that the informed

traders' preference for ambiguity is invariant. Indeed, if an informed trader is optimistic at

t = 0 and the market confidently learns that the high state is true, the informed trader will

eventually become pessimistic. Yet, why of all times, would traders become pessimistic, when

the market expresses strong or even full confidence about the high state and vice versa? If

the market gets confident about either state of the world, risk becomes vanishingly small.

In the limiting case that   {0; 1}, there is no uncertainty, Knightian or otherwise. Hence,

CEU-investors should value the asset at 0 or 1 respectively just like their SEU counterparts

from the baseline model. This is guaranteed if (0) = 0 and (1) = 1.

One might argue that there should, indeed, be no perceived ambiguity in the case of full

confidence. That is, the degree of perceived ambiguity  should go  0 as t  {0; 1}. We

would agree that such an assumption would be feasible as well but it would be an altogether

different model. The way we understand ambiguity in this paper is that it cannot be learned

away. The level of primary ambiguity 0, for instance, is associated with the complexity of the

financial product or the level of expertise of the trader. Therefore, it does not vanish, even if

the market becomes confident about the true state of V . Moreover, the ambiguity stemming

from the informed trader's private information is highest when it contrasts to the view of

the market, see Figure 2. For a low signal, the perceived informational ambiguity is, indeed,

highest if the market confidently believes that V = 1. Hence, there is ambiguity if the market

is confident, but it's effect on the informed traders' decision making should become marginal.

If we assume regularity of  in , this also implies that neo-additive Choquet preferences

in the CEU model are consistent with smooth ambiguity preferences in the Klibanoff et al.

(2005) approach.

90

SFB 649 Discussion Paper Series 2016
For a complete list of Discussion Papers published by the SFB 649, please visit http://sfb649.wiwi.hu-berlin.de.

001
002 003
004 005 006
007 008 009 010
011 012
013 014
015 016

"Downside risk and stock returns: An empirical analysis of the long-run and short-run dynamics from the G-7 Countries" by Cathy Yi-Hsuan Chen, Thomas C. Chiang and Wolfgang Karl Härdle, January 2016. "Uncertainty and Employment Dynamics in the Euro Area and the US" by Aleksei Netsunajev and Katharina Glass, January 2016. "College Admissions with Entrance Exams: Centralized versus Decentralized" by Isa E. Hafalir, Rustamdjan Hakimov, Dorothea Kübler and Morimitsu Kurino, January 2016. "Leveraged ETF options implied volatility paradox: a statistical study" by Wolfgang Karl Härdle, Sergey Nasekin and Zhiwu Hong, February 2016. "The German Labor Market Miracle, 2003 -2015: An Assessment" by Michael C. Burda, February 2016. "What Derives the Bond Portfolio Value-at-Risk: Information Roles of Macroeconomic and Financial Stress Factors" by Anthony H. Tu and Cathy Yi-Hsuan Chen, February 2016. "Budget-neutral fiscal rules targeting inflation differentials" by Maren Brede, February 2016. "Measuring the benefit from reducing income inequality in terms of GDP" by Simon Voigts, February 2016. "Solving DSGE Portfolio Choice Models with Asymmetric Countries" by Grzegorz R. Dlugoszek, February 2016. "No Role for the Hartz Reforms? Demand and Supply Factors in the German Labor Market, 1993-2014" by Michael C. Burda and Stefanie Seele, February 2016. "Cognitive Load Increases Risk Aversion" by Holger Gerhardt, Guido P. Biele, Hauke R. Heekeren, and Harald Uhlig, March 2016. "Neighborhood Effects in Wind Farm Performance: An Econometric Approach" by Matthias Ritter, Simone Pieralli and Martin Odening, March 2016. "The importance of time-varying parameters in new Keynesian models with zero lower bound" by Julien Albertini and Hong Lan, March 2016. "Aggregate Employment, Job Polarization and Inequalities: A Transatlantic Perspective" by Julien Albertini and Jean Olivier Hairault, March 2016. "The Anchoring of Inflation Expectations in the Short and in the Long Run" by Dieter Nautz, Aleksei Netsunajev and Till Strohsal, March 2016. "Irrational Exuberance and Herding in Financial Markets" by Christopher Boortz, March 2016.

SFSBF6B4694, 9S,pSapnadnaduaeureSrtrSatßraeß1e, 1D,-D10-1107187B8eBrleinrlin htthpt:t/p/:/s/fbs6fb4694.w9.iwwiiw.hiu.h-bue-brleinrl.idne.de
ThTishrisesreasercahrcwhawsassupsuppoprtoerdtebdybtyhethDeeDuetsucthseche ForFsocrhsuchnugnsgesgmeeminesicnhsachftatfht rtohuroguhgthhethSeFSBF6B4694"9Ec"oEnconmoimc RicisRki"s.k".

